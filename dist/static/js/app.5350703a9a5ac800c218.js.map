{"version":3,"sources":["webpack:///static/js/app.5350703a9a5ac800c218.js","webpack:///./src/components/craft.vue?eebd","webpack:///./src/story/action.js","webpack:///./src/story/getters.js","webpack:///./src/components/flow.vue?dfb7","webpack:///./src/story/mutations.js","webpack:///./src/view/craftLine.vue","webpack:///./src/view/craftLine.vue?a4d5","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/flow.vue","webpack:///./src/story/mutation-types.js","webpack:///./src/App.vue?bbbd","webpack:///./src/router/index.js","webpack:///./src/story/index.js","webpack:///./src/components/index.js","webpack:///src/components/flow.vue","webpack:///src/view/craftLine.vue","webpack:///./src/components/craft.vue","webpack:///src/components/craft.vue","webpack:///src/App.vue","webpack:///./src/config/mUtils.js"],"names":["webpackJsonp","1CsI","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","staticClass","notEdit","_e","attrs","type","plain","on","click","$event","adds","items","_v","dragover","stopPropagation","handleDragOver","drop","handleDrag","_l","model","index","key","item-height","itemHeight","staticRenderFns","esExports","2+ao","2mXc","D6Am","procedureType","class","border","$store","state","selectHash","hash","activeHash","activeDirection","disabled","startHash","fixed","style","height","draggable","data-hash","dragstart","changeDragStart","dragend","changeDragEnd","preventDefault","select","del","_s","procedureName","procedureQuantity","totalNum","isShow","children","length","cel","GMIA","_types$SAVE_ORDERFLOW","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default","n","__WEBPACK_IMPORTED_MODULE_1__mutation_types_js__","orderFlowInfo","orderFlowInfoActive","company","houseDialog","finalState","colorType","houseResId","IEfW","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_craftLine_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_743dd37e_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_craftLine_vue__","normalizeComponent","__vue_styles__","Component","KGta","add","ref","craft-line","craftLine","add-before","addBefore","get-list","getList","M93x","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_51b2c5c7_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","NHnr","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_1_vue__","__WEBPACK_IMPORTED_MODULE_2__App__","__WEBPACK_IMPORTED_MODULE_3__router__","__WEBPACK_IMPORTED_MODULE_4__story___","__WEBPACK_IMPORTED_MODULE_5_element_ui__","__WEBPACK_IMPORTED_MODULE_5_element_ui___default","__WEBPACK_IMPORTED_MODULE_6__components___","use","a","forEach","name","replace","v","toUpperCase","component","beforeEach","to","from","next","el","store","router","h","template","components","App","NWCo","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_flow_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0cf7d4ae_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_flow_vue__","QMUp","exports","Qgp7","d","SAVE_ORDERFLOWADD","SAVE_ORDERFLOWACTIVE","SHOW_HOUSE_INFO","UhAd","id","YaEn","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__view_craftLine_vue__","routes","path","redirect","Zsfk","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_2_vuex__","__WEBPACK_IMPORTED_MODULE_3__mutations__","__WEBPACK_IMPORTED_MODULE_4__action__","__WEBPACK_IMPORTED_MODULE_5__getters__","window","Promise","history","moveItem","deleteHash","Store","getters","actions","mutations","ZxKi","bGai","eCin","irzW","props","data","mounted","total","computed","methods","item","_this","i","target","getAttribute","filters","watch","handler","val","oldval","deep","oDO2","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_1__components_craft_vue__","halfList","craft","$refs","addresult","arr","arrs","JSON","parse","reverse","start","end","console","log","slice","push","getHalf","_this2","p810","tH33","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_craft_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_404b1166_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_craft_vue__","uGBY","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_3__flow_vue__","checkState","hasSelect","craftLineCopy","Array","Function","Boolean","created","recursion","j","types","Date","now","dataTransfer","dropEffect","className","indexOf","center","getBoundingClientRect","y","pageY","remove","$emit","_this3","splice","_this4","fn","Number","$store.state.deleteHash","_this5","$store.state.selectHash","_this6","xJD8","yclV","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__","document","body","addEventListener","evt","_isScroller","prototype","format","o","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","q+","Math","floor","S","getMilliseconds","week","test","RegExp","$1","getFullYear","substr","getDay","k","part","isNaN","setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds"],"mappings":"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","file":"static/js/app.5350703a9a5ac800c218.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"1CsI\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"craft-box\"},[(!_vm.notEdit)?_c('div',{staticClass:\"flex-box flex-center\"},[_c('el-button',{staticClass:\"flex-box\",attrs:{\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":function($event){_vm.adds(_vm.items[0])}}},[_vm._v(\"添加主流程\"),_c('i',{staticClass:\"el-icon--right el-icon-circle-plus-outline\"})]),_vm._v(\" \"),_c('el-button',{staticClass:\"flex-box\",attrs:{\"type\":\"success\",\"plain\":\"\"},on:{\"click\":function($event){_vm.adds(_vm.items[1])}}},[_vm._v(\"添加半成品\"),_c('i',{staticClass:\"el-icon--right el-icon-circle-plus-outline\"})]),_vm._v(\" \"),_c('el-button',{staticClass:\"flex-box\",attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.adds(_vm.items[2])}}},[_vm._v(\"添加工序\"),_c('i',{staticClass:\"el-icon--right el-icon-circle-plus-outline\"})])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex-box flex-center\"},[_c('ul',{staticClass:\"craft-info flex-box\",on:{\"dragover\":function($event){$event.stopPropagation();return _vm.handleDragOver($event)},\"drop\":function($event){$event.stopPropagation();return _vm.handleDrag($event)}}},_vm._l((_vm.craftLineCopy),function(model,index){return _c('items',{key:index,attrs:{\"model\":model,\"item-height\":_vm.itemHeight}})}))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"2+ao\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__mutation_types_js__ = __webpack_require__(\"Qgp7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__story___ = __webpack_require__(\"Zsfk\");\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\n  /*  async getCartlist({\r\n      commit,\r\n      state\r\n    }) {\r\n      let res = await getData.shoppingCartNum();\r\n      commit(types.SAVE_CARTLIST, res.shoppingCartNum)\r\n    }*/\n\n});\n\n/***/ }),\n\n/***/ \"2mXc\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({});\n\n/***/ }),\n\n/***/ \"D6Am\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"item\"},[(_vm.model.procedureType === 'process')?_c('div',{staticClass:\"item-info\",class:[_vm.model.procedureType,{border:_vm.$store.state.selectHash==_vm.model.hash},_vm.$store.state.activeHash==_vm.model.hash?_vm.$store.state.activeDirection:'',{disabled:_vm.$store.state.startHash==_vm.model.hash},{fixed:_vm.model.fixed}],style:({height: _vm.itemHeight+'px'}),attrs:{\"draggable\":!_vm.model.fixed,\"data-hash\":_vm.model.hash},on:{\"dragstart\":function($event){$event.stopPropagation();return _vm.changeDragStart($event)},\"dragend\":function($event){$event.stopPropagation();return _vm.changeDragEnd($event)},\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.select(_vm.model)}}},[(!_vm.model.fixed)?_c('div',{staticClass:\"j-delete\"},[_c('i',{staticClass:\"el-icon-remove-outline\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.del(_vm.model.hash)}}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_vm._v(\"\\n      \"+_vm._s(_vm.model.procedureName)+\"\\n    \")])]):(_vm.model.procedureType === 'semi')?_c('div',{staticClass:\"item-info\",class:[_vm.model.procedureType,{border:_vm.$store.state.selectHash==_vm.model.hash},_vm.$store.state.activeHash==_vm.model.hash?_vm.$store.state.activeDirection:'',{disabled:_vm.$store.state.startHash==_vm.model.hash}],attrs:{\"draggable\":\"true\",\"data-hash\":_vm.model.hash},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.select(_vm.model)},\"dragstart\":function($event){$event.stopPropagation();return _vm.changeDragStart($event)},\"dragend\":function($event){$event.stopPropagation();return _vm.changeDragEnd($event)}}},[_c('div',{staticClass:\"info\"},[_vm._v(\"\\n      \"+_vm._s(_vm.model.procedureName)),(_vm.model.procedureQuantity&&_vm.model.procedureQuantity>1)?_c('span',[_vm._v(\"*\"+_vm._s(_vm.model.procedureQuantity))]):_vm._e(),_vm._v(\" \"),(_vm.totalNum>0)?_c('div',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.isShow = !_vm.isShow;}}},[_c('i',{class:_vm.isShow?'el-icon-caret-bottom':'el-icon-caret-top'}),_vm._v(_vm._s(_vm.totalNum)+\"道工序\\n      \")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"j-delete\"},[_c('i',{staticClass:\"el-icon-remove-outline\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.del(_vm.model.hash)}}})])])]):_c('div',{staticClass:\"item-info\",class:[_vm.model.procedureType,{border:_vm.$store.state.selectHash==_vm.model.hash},_vm.$store.state.activeHash==_vm.model.hash?_vm.$store.state.activeDirection:'',{disabled:_vm.$store.state.startHash==_vm.model.hash},{fixed:_vm.model.fixed}],attrs:{\"draggable\":!_vm.model.fixed,\"data-hash\":_vm.model.hash},on:{\"dragstart\":function($event){$event.stopPropagation();return _vm.changeDragStart($event)},\"dragend\":function($event){$event.stopPropagation();return _vm.changeDragEnd($event)},\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.select(_vm.model)}}},[_c('div',{staticClass:\"info\"},[_vm._v(\"\\n      \"+_vm._s(_vm.model.procedureName)+\"\\n      \"),(_vm.totalNum>0)?_c('div',[_vm._v(_vm._s(_vm.totalNum)+\"道工序\")]):_vm._e(),_vm._v(\" \"),(!_vm.model.fixed)?_c('div',{staticClass:\"j-delete\"},[_c('i',{staticClass:\"el-icon-remove-outline\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.del(_vm.model.hash)}}})]):_vm._e()])]),_vm._v(\" \"),(_vm.model.children&&_vm.model.children.length>0)?_c('ul',{class:{isShow:!_vm.isShow}},_vm._l((_vm.model.children),function(cel,index){return _c('items',{key:index,attrs:{\"model\":cel,\"item-height\":_vm.itemHeight}})})):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"GMIA\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__ = __webpack_require__(\"bOdI\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mutation_types_js__ = __webpack_require__(\"Qgp7\");\n\n\nvar _types$SAVE_ORDERFLOW;\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (_types$SAVE_ORDERFLOW = {}, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_types$SAVE_ORDERFLOW, __WEBPACK_IMPORTED_MODULE_1__mutation_types_js__[\"b\" /* SAVE_ORDERFLOWADD */], function (state, orderFlowInfo) {\n  state.orderFlowInfo = orderFlowInfo;\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_types$SAVE_ORDERFLOW, __WEBPACK_IMPORTED_MODULE_1__mutation_types_js__[\"a\" /* SAVE_ORDERFLOWACTIVE */], function (state, orderFlowInfoActive) {\n  state.orderFlowInfoActive = orderFlowInfoActive;\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_types$SAVE_ORDERFLOW, __WEBPACK_IMPORTED_MODULE_1__mutation_types_js__[\"c\" /* SHOW_HOUSE_INFO */], function (state, company) {\n  state.houseDialog = !state.houseDialog;\n  if (company) {\n    state.finalState = company.colorType;\n    state.houseResId = company.houseResId;\n  }\n}), _types$SAVE_ORDERFLOW);\n\n/***/ }),\n\n/***/ \"IEfW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_craftLine_vue__ = __webpack_require__(\"oDO2\");\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_743dd37e_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_craftLine_vue__ = __webpack_require__(\"KGta\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"eCin\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_craftLine_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_743dd37e_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_craftLine_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"KGta\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"warp-box flex-direction-box\"},[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"外部添加自带工序\")])],1),_vm._v(\" \"),_c('craft',{ref:\"craft\",attrs:{\"craft-line\":_vm.craftLine,\"add-before\":_vm.addBefore},on:{\"get-list\":_vm.getList}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_51b2c5c7_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"UhAd\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"QMUp\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_51b2c5c7_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(\"fZjL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__router__ = __webpack_require__(\"YaEn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__story___ = __webpack_require__(\"Zsfk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_element_ui__ = __webpack_require__(\"zL8q\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_element_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_element_ui__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components___ = __webpack_require__(\"bGai\");\n\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_5_element_ui___default.a);\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(__WEBPACK_IMPORTED_MODULE_6__components___[\"a\" /* default */]).forEach(function (key) {\n  var name = key.replace(/(\\w)/, function (v) {\n    return v.toUpperCase();\n  }); // 首字母大写\n  __WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].component('v' + name, __WEBPACK_IMPORTED_MODULE_6__components___[\"a\" /* default */][key]);\n});\n\n__WEBPACK_IMPORTED_MODULE_3__router__[\"a\" /* default */].beforeEach(function (to, from, next) {\n  next();\n});\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"]({\n  el: '#app',\n  store: __WEBPACK_IMPORTED_MODULE_4__story___[\"a\" /* default */],\n  router: __WEBPACK_IMPORTED_MODULE_3__router__[\"a\" /* default */],\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_2__App__[\"a\" /* default */]);\n  },\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_2__App__[\"a\" /* default */] }\n});\n\n/***/ }),\n\n/***/ \"NWCo\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_flow_vue__ = __webpack_require__(\"irzW\");\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0cf7d4ae_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_flow_vue__ = __webpack_require__(\"D6Am\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"p810\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_flow_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0cf7d4ae_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_flow_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"QMUp\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"Qgp7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return SAVE_ORDERFLOWADD; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SAVE_ORDERFLOWACTIVE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return SHOW_HOUSE_INFO; });\nvar SAVE_ORDERFLOWADD = 'SAVE_ORDERFLOWADD';\nvar SAVE_ORDERFLOWACTIVE = 'SAVE_ORDERFLOWACTIVE';\nvar SHOW_HOUSE_INFO = 'SHOW_HOUSE_INFO';\n\n/***/ }),\n\n/***/ \"UhAd\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"YaEn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(\"/ocq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__view_craftLine_vue__ = __webpack_require__(\"IEfW\");\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '',\n    redirect: '/craftLine'\n  }, {\n    path: '/craftLine',\n    component: __WEBPACK_IMPORTED_MODULE_2__view_craftLine_vue__[\"a\" /* default */],\n    name: '工艺路线'\n  }]\n}));\n\n/***/ }),\n\n/***/ \"Zsfk\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(\"//Fk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(\"NYxO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mutations__ = __webpack_require__(\"GMIA\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__action__ = __webpack_require__(\"2+ao\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__getters__ = __webpack_require__(\"2mXc\");\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"a\" /* default */]);\nwindow.Promise = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a;\n\nvar state = {\n  history: [],\n  startHash: -1,\n  moveItem: {},\n  selectHash: -1,\n  deleteHash: -1,\n  activeHash: -1,\n  activeDirection: 'top'\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_2_vuex__[\"a\" /* default */].Store({\n  state: state,\n  getters: __WEBPACK_IMPORTED_MODULE_5__getters__[\"a\" /* default */],\n  actions: __WEBPACK_IMPORTED_MODULE_4__action__[\"a\" /* default */],\n  mutations: __WEBPACK_IMPORTED_MODULE_3__mutations__[\"a\" /* default */]\n}));\n\n/***/ }),\n\n/***/ \"ZxKi\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"bGai\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\n * Created by Administrator on 2017/12/7.\n */\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({});\n\n/***/ }),\n\n/***/ \"eCin\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"irzW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'items',\n  props: ['model', 'itemHeight', 'edit'],\n  data: function data() {\n    return {\n      totalNum: 0,\n      isShow: true\n    };\n  },\n  mounted: function mounted() {\n    this.total(this.model);\n  },\n\n  computed: {},\n  methods: {\n    total: function total(item) {\n      var _this = this;\n\n      if (item.children && item.children.length > 0) {\n        item.children.forEach(function (i) {\n          _this.total(i);\n        });\n      } else {\n        if (item.procedureType === 'process') {\n          this.totalNum++;\n        }\n      }\n    },\n    changeDragStart: function changeDragStart(el) {\n      this.$store.state.startHash = el.target.getAttribute('data-hash');\n    },\n    changeDragEnd: function changeDragEnd(el) {\n      this.$store.state.startHash = -1;\n      this.$store.state.activeHash = -1;\n    },\n    select: function select(model) {\n      this.$store.state.selectHash = model.hash;\n    },\n    del: function del(hash) {\n      this.$store.state.deleteHash = hash;\n    }\n  },\n  components: {},\n  filters: {},\n  watch: {\n    model: {\n      handler: function handler(val, oldval) {\n        this.totalNum = 0;\n        this.total(this.model);\n      },\n      deep: true //对象内部的属性监听，也叫深度监听\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"oDO2\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_craft_vue__ = __webpack_require__(\"tH33\");\n\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      craftLine: [{\n        procedureType: 'flow',\n        procedureName: '主流程',\n        hash: 1539651058192,\n        fixed: true,\n        children: [{\n          procedureType: 'semi',\n          procedureName: '半成品',\n          hash: 1539651058193,\n          fixed: true,\n          children: [{\n            procedureType: 'process',\n            procedureName: '自带工序',\n            hash: 1539651058194,\n            fixed: true\n          }, {\n            procedureType: 'process',\n            procedureName: '自带工序2',\n            hash: 1539651058195,\n            fixed: true\n          }]\n        }]\n      }],\n      halfList: []\n    };\n  },\n\n  computed: {},\n  mounted: function mounted() {},\n\n  components: {\n    craft: __WEBPACK_IMPORTED_MODULE_1__components_craft_vue__[\"a\" /* default */]\n  },\n  methods: {\n    addBefore: function addBefore(item, next) {\n      //console.log(item)\n      // do something\n      //item.dddd=111\n      next(item);\n    },\n    add: function add() {\n      this.$refs.craft.addresult({\n        procedureType: 'process',\n        procedureName: '自带工序',\n        hash: 1539651058195\n      });\n    },\n    getList: function getList(arr) {\n      var _this = this;\n\n      this.halfList = [];\n      var arrs = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(arr));\n      arrs.reverse();\n      var start = null;\n      var end = arrs.length;\n      var halfList = [];\n      for (var i = 0; i < arrs.length; i++) {\n        if (arrs[i].hash == this.$store.state.selectHash) {\n          start = i;\n          console.log(start);\n        } else if (arrs[i].procedureType == 'process' && start != null) {\n          end = i;\n          console.log(end);\n          break;\n        }\n      }\n      if (end - start > 1) {\n        halfList = arrs.slice(start + 1, end);\n        halfList.forEach(function (item) {\n          if (item.procedureType == 'semi') {\n            _this.halfList.push(item);\n          } else {\n            _this.getHalf(item.children);\n          }\n        });\n      }\n      console.log(this.halfList);\n    },\n    getHalf: function getHalf(arr) {\n      var _this2 = this;\n\n      arr.forEach(function (item) {\n        if (item.procedureType == 'semi') {\n          _this2.halfList.push(item);\n        } else if (item.children && item.children.length > 0) {\n          _this2.getHalf(item.children);\n        }\n      });\n    }\n  },\n  watch: {}\n});\n\n/***/ }),\n\n/***/ \"p810\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"tH33\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_craft_vue__ = __webpack_require__(\"uGBY\");\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_404b1166_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_craft_vue__ = __webpack_require__(\"1CsI\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"ZxKi\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_craft_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_404b1166_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_craft_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"uGBY\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_mUtils__ = __webpack_require__(\"yclV\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__flow_vue__ = __webpack_require__(\"NWCo\");\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      items: [{\n        procedureType: 'flow',\n        procedureName: '主流程',\n        children: []\n      }, {\n        procedureType: 'semi',\n        procedureName: '边方块',\n        children: [{\n          procedureType: 'process',\n          procedureName: '工序',\n          children: []\n        }]\n      }, {\n        procedureType: 'process',\n        procedureName: '工序',\n        children: [],\n        checkState: false\n      }],\n      itemHeight: 54,\n      hasSelect: false,\n      craftLineCopy: []\n    };\n  },\n\n  props: {\n    craftLine: {\n      type: Array\n    },\n    addBefore: {\n      type: Function\n    },\n    notEdit: {\n      type: Boolean\n    }\n  },\n  computed: {},\n  created: function created() {},\n  mounted: function mounted() {\n    this.craftLineCopy = this.craftLine;\n    this.$store.state.selectHash = this.craftLineCopy[0].hash;\n  },\n\n  components: {\n    items: __WEBPACK_IMPORTED_MODULE_3__flow_vue__[\"a\" /* default */]\n  },\n  methods: {\n    adds: function adds(type) {\n      this.addBefore(type, this.addresult);\n    },\n    addresult: function addresult(type) {\n      var _this = this;\n\n      this.recursion(this.craftLineCopy, this.$store.state.selectHash, function (arrs, j) {\n        if (arrs[j].procedureType == 'flow') {\n          var types = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({}, { hash: Date.now(), children: [] }, type);\n          arrs[j].children.push(types);\n        }\n        _this.craftLineCopy = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this.craftLineCopy));\n      });\n    },\n    handleDragOver: function handleDragOver(el) {\n      el.preventDefault(); //重要\n      el.dataTransfer.dropEffect = 'move';\n      if (el.target.className.indexOf('fixed') > -1) {\n        return;\n      }\n      var activeHash = el.target.getAttribute('data-hash');\n      if (activeHash != null) {\n        this.$store.state.activeHash = activeHash;\n        var center = el.target.getBoundingClientRect().y + el.target.getBoundingClientRect().height / 2;\n        if (el.pageY > center) {\n          this.$store.state.activeDirection = 'bottom';\n        } else {\n          this.$store.state.activeDirection = 'top';\n        }\n      }\n    },\n    handleDrag: function handleDrag() {\n      var _this2 = this;\n\n      if (this.$store.state.activeHash == -1 || this.$store.state.startHash == -1 || this.$store.state.startHash == this.$store.state.activeHash) {\n        return;\n      }\n      this.remove(this.craftLineCopy, this.$store.state.startHash);\n      this.add(this.craftLineCopy, this.$store.state.activeHash);\n      this.recursion(this.craftLineCopy, this.$store.state.selectHash, function (arrs, j) {\n        if (arrs[j].procedureType == 'process') {\n          _this2.$emit('get-list', arrs);\n        }\n      });\n    },\n    remove: function remove(arr, hash) {\n      var _this3 = this;\n\n      this.recursion(arr, hash, function (arrs, j) {\n        _this3.$store.state.moveItem = arrs[j];\n        arrs.splice(j, 1);\n      });\n    },\n    add: function add(arr, hash) {\n      var _this4 = this;\n\n      this.recursion(arr, hash, function (arrs, j) {\n        if (_this4.$store.state.activeDirection === 'top') {\n          arrs.splice(j, 0, _this4.$store.state.moveItem);\n        } else {\n          arrs.splice(j + 1, 0, _this4.$store.state.moveItem);\n        }\n      });\n    },\n    recursion: function recursion(arrs, h, fn) {\n      for (var j = 0; j < arrs.length; j++) {\n        if (Number(arrs[j].hash) === Number(h)) {\n          fn(arrs, j);\n          return false;\n        } else {\n          if (arrs[j].children && arrs[j].children.length > 0) {\n            this.recursion(arrs[j].children, h, fn);\n          }\n        }\n      }\n    }\n  },\n  watch: {\n    '$store.state.deleteHash': {\n      handler: function handler(val) {\n        var _this5 = this;\n\n        this.hasSelect = false;\n        this.recursion(this.craftLineCopy, val, function (arrs, j) {\n          arrs.splice(j, 1);\n        });\n        this.recursion(this.craftLineCopy, this.$store.state.selectHash, function (arrs, j) {\n          _this5.hasSelect = true;\n        });\n        if (!this.hasSelect) {\n          this.$store.state.selectHash = this.craftLineCopy[0].hash;\n        }\n      }\n    },\n    '$store.state.selectHash': function $storeStateSelectHash(val) {\n      var _this6 = this;\n\n      this.recursion(this.craftLineCopy, val, function (arrs, j) {\n        if (arrs[j].procedureType == 'process') {\n          _this6.$emit('get-list', arrs);\n        }\n      });\n    },\n    'craftLineCopy': function craftLineCopy(val) {\n      this.$emit('line', val);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app'\n});\n\n/***/ }),\n\n/***/ \"yclV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export setSession */\n/* unused harmony export getSession */\n/* unused harmony export setStore */\n/* unused harmony export getStore */\n/* unused harmony export removeStore */\n/* unused harmony export getQueryString */\n/* unused harmony export islength */\n/* unused harmony export rule */\n/* unused harmony export phoneRule */\n/* unused harmony export phoneRule2 */\n/* unused harmony export chinese */\n/* unused harmony export number */\n/* unused harmony export number0 */\n/* unused harmony export price */\n/* unused harmony export areaRule */\n/* unused harmony export email */\n/* unused harmony export bankCode */\n/* unused harmony export http */\n/* unused harmony export numberCode */\n/* unused harmony export noChinese */\n/* unused harmony export contractCode */\n/* unused harmony export overscroll */\n/* unused harmony export unique */\n/* unused harmony export showBack */\n/* unused harmony export toast */\n/* unused harmony export currency */\n/* unused harmony export isEmoji */\n/* unused harmony export imgFile */\n/* unused harmony export selectImgFile */\n/* unused harmony export empty */\n/* unused harmony export date */\n/* unused harmony export getFilters */\n/* unused harmony export selectOtherFile */\n/* unused harmony export throttle */\n/* unused harmony export del */\n/* unused harmony export getCascaderObj */\n/* unused harmony export deepClone */\n/* unused harmony export getType */\n/* unused harmony export deepCopy */\n/* unused harmony export getState */\n/* unused harmony export getChartType */\n/* unused harmony export removeFile */\n/* unused harmony export ridFirstAndEnd */\n/* unused harmony export arrConcat */\n/* unused harmony export resizeMe */\n/* unused harmony export resizeMe2 */\n/* unused harmony export resetForm */\n/* unused harmony export getFormData */\n/* unused harmony export toDatetime */\n/* unused harmony export toDate */\n/* unused harmony export toDateTime */\n/* unused harmony export checkForm */\n/* unused harmony export strParse */\n/* unused harmony export getTime */\n/* unused harmony export getEndtime */\n/* unused harmony export getSpanArr */\n/* unused harmony export updatePeople */\n/* unused harmony export getEndtimes */\n/* unused harmony export getMorning */\n/* unused harmony export getAfternoon */\n/* unused harmony export checkTime */\n/* unused harmony export getTimeSecond */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(\"BO1k\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(\"//Fk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__story___ = __webpack_require__(\"Zsfk\");\n\n\n\n\nvar _this2 = this,\n    _arguments = arguments;\n\n\n\n/**\r\n * 存储localSession\r\n */\nvar setSession = function setSession(name, content) {\n  if (!name) return;\n  if (typeof content !== 'string') {\n    content = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(content);\n  }\n  window.sessionStorage.setItem(name, content);\n};\n\n/**\r\n * 获取localSession\r\n */\nvar getSession = function getSession(name) {\n  if (!name) return;\n  return window.sessionStorage.getItem(name);\n};\n/**\r\n * 存储localStorage\r\n */\nvar setStore = function setStore(name, content) {\n  if (!name) return;\n  if (typeof content !== 'string') {\n    content = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(content);\n  }\n  window.localStorage.setItem(name, content);\n};\n\n/**\r\n * 获取localStorage\r\n */\nvar getStore = function getStore(name) {\n  if (!name) return;\n  return window.localStorage.getItem(name);\n};\n\n/**\r\n * 删除localStorage\r\n */\nvar removeStore = function removeStore(name) {\n  if (!name) return;\n  window.localStorage.removeItem(name);\n};\n/**\r\n * 获取地址栏参数\r\n */\nvar getQueryString = function getQueryString(name) {\n  var pam = window.location.href.split('?')[1] || '';\n  var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\n  var r = pam.match(reg);\n  if (r != null) return decodeURI(r[2]);\n  return null;\n};\n\n/**\r\n * 补0\r\n */\nvar islength = function islength(num) {\n  if (Number(num) < 10) {\n    return '0' + num;\n  } else {\n    return num;\n  }\n};\n\n/**\r\n * 表单校验\r\n */\nvar rule = {\n  alert: function alert(mess) {\n    __WEBPACK_IMPORTED_MODULE_3__story___[\"a\" /* default */].state.alertMessage = mess;\n    __WEBPACK_IMPORTED_MODULE_3__story___[\"a\" /* default */].state.showAlert = true;\n  },\n  empty: function empty(str, mess) {\n    //不能为空\n    if (str == '') {\n      this.alert(mess);\n      return false;\n    } else {\n      return true;\n    }\n  },\n  phone: function phone(str) {\n    //手机号校验\n    var myReg = /^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$/;\n    if (!myReg.test(str)) {\n      this.alert('手机号码有误');\n      return false;\n    } else {\n      return true;\n    }\n  }\n};\n\nvar phoneRule = /^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$/;\nvar phoneRule2 = /(^(\\d{3,4}-)?\\d{7,8})$|(^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$)/;\nvar chinese = /^[\\u4E00-\\u9FA5]+$/;\nvar number = /(^[1-9]([0-9]+)$)|(^[1-9]?$)/;\nvar number0 = /(^[1-9]([0-9]+)$)|(^(0){1}$)|(^[1-9]?$)/;\nvar price = /(^[1-9]([0-9]+)?(\\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\\.[0-9]([0-9])?$)/;\nvar areaRule = /(^[1-9]([0-9]+)?(\\.[0-9]{1,2})?$)|(^[0-9]\\.[0-9]([0-9])?$)/;\n// export const email = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\nvar email = /^((([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})[; ,])*(([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})))$/;\nvar bankCode = /^([1-9]{1})(\\d{14}|\\d{18})$/;\nvar http = /(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&:\\/~\\+#][^\\u4E00-\\u9FA5]*[\\w\\-\\@?^=%&\\/~\\+#][^\\u4E00-\\u9FA5])?/;\n// export const http = /[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&:/~\\+#]*[\\w\\-\\@?^=%&/~\\+#])?$/;\nvar numberCode = /^(\\w)+$/;\nvar noChinese = /[^\\u4E00-\\u9FA5]+$/g;\nvar contractCode = /^[\\w\\-_]+$/;\nvar overscroll = function overscroll(els) {\n  for (var i = 0; i < els.length; ++i) {\n    var el = els[i];\n    el.addEventListener('touchstart', function () {\n      var top = this.scrollTop,\n          totalScroll = this.scrollHeight,\n          currentScroll = top + this.offsetHeight;\n      if (top === 0) {\n        this.scrollTop = 1;\n      } else if (currentScroll === totalScroll) {\n        this.scrollTop = top - 1;\n      }\n    });\n    el.addEventListener('touchmove', function (evt) {\n      if (this.offsetHeight < this.scrollHeight) evt._isScroller = true;\n    });\n  }\n}; //禁止body的滚动事件\ndocument.body.addEventListener('touchmove', function (evt) {\n  if (!evt._isScroller) {\n    evt.preventDefault();\n  }\n}); //给class为.scroll的元素加上自定义的滚动事件\n//overscroll(document.querySelectorAll('.scroll'));\n\n\n//删除数组指定的某个元素\nArray.prototype.remove = function (val) {\n  var index = this.indexOf(val);\n  if (index > -1) {\n    this.splice(index, 1);\n  }\n};\n\n//数组去重\nvar unique = function unique(arr) {\n  return arr.filter(function (element, index, self) {\n    return self.indexOf(element) === index;\n  });\n};\n\nDate.prototype.format = function (format) {\n  var o = {\n    \"M+\": this.getMonth() + 1, //month\n    \"d+\": this.getDate(), //day\n    \"h+\": this.getHours(), //hour\n    \"m+\": this.getMinutes(), //minute\n    \"s+\": this.getSeconds(), //second\n    \"q+\": Math.floor((this.getMonth() + 3) / 3), //quarter\n    \"S\": this.getMilliseconds() //millisecond\n  };\n  var week = [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"];\n  if (/(y+)/.test(format)) {\n    format = format.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n  }\n  if (/(w+)/.test(format)) {\n    format = format.replace(RegExp.$1, week[this.getDay()]);\n  }\n  for (var k in o) {\n    if (new RegExp(\"(\" + k + \")\").test(format)) {\n      format = format.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\n    }\n  }\n  return format;\n};\n\nDate.prototype.add = function (part, value) {\n  value *= 1;\n  if (isNaN(value)) {\n    value = 0;\n  }\n  switch (part) {\n    case \"y\":\n      this.setFullYear(this.getFullYear() + value);\n      break;\n    case \"m\":\n      this.setMonth(this.getMonth() + value);\n      break;\n    case \"d\":\n      this.setDate(this.getDate() + value);\n      break;\n    case \"h\":\n      this.setHours(this.getHours() + value);\n      break;\n    case \"n\":\n      this.setMinutes(this.getMinutes() + value);\n      break;\n    case \"s\":\n      this.setSeconds(this.getSeconds() + value);\n      break;\n    default:\n\n  }\n  return this;\n};\n\n//alert(new Date().add(\"m\", -1).format('yyyy-MM-dd hh:mm:ss'));\n\n/**\r\n * 显示返回顶部按钮，开始、结束、运动 三个过程中调用函数判断是否达到目标点\r\n */\nvar showBack = function showBack(el, callback) {\n  var requestFram = void 0;\n  var oldScrollTop = void 0;\n\n  document.addEventListener('scroll', function () {\n    showBackFun();\n  }, false);\n  document.addEventListener('touchstart', function () {\n    showBackFun();\n  }, { passive: true });\n\n  document.addEventListener('touchmove', function () {\n    showBackFun();\n  }, { passive: true });\n\n  document.addEventListener('touchend', function () {\n    oldScrollTop = el.getPosition().top;\n    moveEnd();\n  }, { passive: true });\n\n  var moveEnd = function moveEnd() {\n    requestFram = requestAnimationFrame(function () {\n      if (el.getPosition().top != oldScrollTop) {\n        oldScrollTop = el.getPosition().top;\n        moveEnd();\n      } else {\n        cancelAnimationFrame(requestFram);\n      }\n      showBackFun();\n    });\n  };\n\n  //判断是否达到目标点\n  var showBackFun = function showBackFun() {\n    if (el.getPosition().top > 500) {\n      callback(true);\n    } else {\n      callback(false);\n    }\n  };\n};\n\nvar toast = function toast() {\n  var msg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1500;\n\n  var toast = document.createElement('div');\n  toast.className = 'common-toast common-toast-show';\n  toast.innerHTML = msg;\n  document.body.appendChild(toast);\n  toast.style.display = 'block';\n  toast.style.margin = '-' + toast.offsetHeight / 2 + 'px 0 0 -' + toast.offsetWidth / 2 + 'px';\n  var timer = setTimeout(function () {\n    toast.className = 'common-toast common-toast-hide';\n    clearTimeout(timer);\n    var timer2 = setTimeout(function () {\n      document.body.removeChild(toast);\n      clearTimeout(timer2);\n    }, 200);\n  }, time);\n};\n\nvar digitsRE = /(\\d{3})(?=\\d)/g;\n\nfunction currency(value, currency, decimals) {\n  value = parseFloat(value);\n  if (!isFinite(value) || !value && value !== 0) return '';\n  currency = currency != null ? currency : '$';\n  decimals = decimals != null ? decimals : 2;\n  var stringified = Math.abs(value).toFixed(decimals);\n  var _int = decimals ? stringified.slice(0, -1 - decimals) : stringified;\n  var i = _int.length % 3;\n  var head = i > 0 ? _int.slice(0, i) + (_int.length > 3 ? ',' : '') : '';\n  var _float = decimals ? stringified.slice(-1 - decimals) : '';\n  var sign = value < 0 ? '-' : '';\n  return sign + currency + head + _int.slice(i).replace(digitsRE, '$1,') + _float;\n}\n\n/**\r\n * 检查是否为Emoji\r\n */\nvar isEmoji = function isEmoji(name) {\n  if (escape(name).toLocaleLowerCase().match(/(\\%\\ue[0-9a-f]{3})|(\\%\\ud[0-9a-f]{3})/)) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nvar resizeMe = function resizeMe(img, maxW, maxH, nocheck) {\n\n  var browser = {\n    versions: function () {\n      var u = navigator.userAgent;\n      return {\n        trident: u.indexOf('Trident') > -1, //IE内核\n        presto: u.indexOf('Presto') > -1, //opera内核\n        webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核\n        gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核\n        mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端\n        ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端\n        android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器\n        iPhone: u.indexOf('iPhone') > -1, //是否为iPhone或者QQHD浏览器\n        iPad: u.indexOf('iPad') > -1, //是否iPad\n        webApp: u.indexOf('Safari') == -1, //是否web应该程序，没有头部与底部\n        weixin: u.toLowerCase().match(/MicroMessenger/i) == 'micromessenger', //是否微信\n        qq: u.match(/\\sQQ/i) == \" qq\" //是否QQ\n      };\n    }()\n  };\n\n  var canvas = document.createElement('canvas');\n  var width = img.width;\n  var height = img.height;\n  var max_width = maxW || 640;\n  var max_height = maxH || 640;\n  var max_size = 300; //k\n  if (width > max_width) {\n    height *= max_width / width;\n    height = Math.round(height);\n    width = max_width;\n  }\n  if (height > max_height) {\n    width *= max_height / height;\n    width = Math.round(width);\n    height = max_height;\n  }\n  //将图片放入canvas，并重置canvas大小\n  if (browser.versions.ios || browser.versions.webApp) {\n    var mpImg = new MegaPixImage(img);\n    canvas.width = width;\n    canvas.height = height;\n    mpImg.render(canvas, { width: width, height: height });\n  } else {\n    canvas.width = width;\n    canvas.height = height;\n    var ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(img, 0, 0, width, height);\n  }\n  var res,\n      quality = .7,\n      resSize,\n      ratio = 1;\n\n  res = canvas.toDataURL(\"image/jpeg\", quality); // 截取canvas对应的jpg图片，并且画质为70%（默认就是70%，可以改变）\n\n  // Android 2.x、Android 4.1.2、4.3 的 toDataURL 不支持jpeg格式；\n  if (res.substr(0, \"data:image/png\".length) == \"data:image/png\" || res.substr(0, 6) == \"data:,\") {\n    var encoder = new JPEGEncoder();\n    res = encoder.encode(canvas.getContext(\"2d\").getImageData(0, 0, width, height), quality * 100, true);\n  }\n  resSize = Math.ceil(res.length / 1024); //k\n\n  if (resSize > max_size && !nocheck) {\n    ratio = Math.ceil(Math.sqrt(max_size / resSize) * 100) / 100;\n    if (ratio >= .9) {\n      ratio -= .1;\n    }\n\n    res = resizeMe(img, max_width * ratio, max_height * ratio, true);\n  }\n  return res;\n};\n\nvar resizeMe2 = function resizeMe2(img) {\n  var canvas = document.createElement('canvas');\n  var ress = resizeMe(img);\n  var imgs = new Image();\n  imgs.src = ress;\n\n  var prom = new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n    imgs.onload = function () {\n      var height = imgs.height;\n      var width = imgs.width;\n      var widthheight = height >= width ? width : height;\n      canvas.width = widthheight;\n      canvas.height = widthheight;\n      var ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(imgs, (width - widthheight) / 2, (height - widthheight) / 2, widthheight, widthheight, 0, 0, widthheight, widthheight);\n      var res = canvas.toDataURL(\"image/jpeg\", 1); // 截取canvas对应的jpg图片，并且画质为70%（默认就是70%，可以改变）\n      // Android 2.x、Android 4.1.2、4.3 的 toDataURL 不支持jpeg格式；\n      if (res.substr(0, \"data:image/png\".length) == \"data:image/png\" || res.substr(0, 6) == \"data:,\") {\n        var encoder = new JPEGEncoder();\n        res = encoder.encode(canvas.getContext(\"2d\").getImageData(0, 0, widthheight, widthheight), 100, true);\n      }\n      resolve(res);\n    };\n  });\n\n  return prom;\n};\n\n/**将选中的图片转化成base64\r\n * @param files\r\n */\nvar imgFile = function imgFile(files) {\n  return new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (res, err) {\n    var image = new Image();\n    var _this = _this2;\n    var leng = files.length;\n    for (var i = 0; i < leng; i++) {\n      var reader = new FileReader();\n      reader.readAsDataURL(files[i]);\n      reader.onload = function (e) {\n        var image = new Image();\n        image.src = this.result;\n        image.onload = function () {\n          var resized = resizeMe(image);\n          if (!resized) {\n            err('图片加载出错，请选择其他图片！');\n            return;\n          } else {\n            res(resized);\n          }\n        };\n      };\n    }\n  });\n};\n\n/**\r\n * 选择图片\r\n */\nvar selectImgFile = function selectImgFile(e, message, type) {\n  var files = e.target.files || e.dataTransfer.files;\n  console.log(files);\n  type = type || ['image/png', 'image/jpeg', 'image/gif', 'application/pdf'];\n  // list = list || 0;\n  var ok = [];\n  if (type instanceof Array) {\n    type.forEach(function (item) {\n      ok.push(files[0].type === item ? 1 : 0);\n    });\n  } else {\n    ok.push(files[0].type === type ? 1 : 0);\n  }\n  if (!files.length) return;\n  if (ok.indexOf(0) === -1) {\n    message({\n      type: 'error',\n      message: '图片类型选择错误！'\n    });\n    return;\n  }\n  if (files[0].size >= 20 * 1024 * 1024) {\n    message({\n      type: 'error',\n      message: '选择图片最大为20M'\n    });\n    return;\n  }\n  if (typeof FileReader === 'undefined') {\n    //globel.toast('不支持图片上传');\n    return false;\n  }\n  return imgFile(files);\n};\n\nvar empty = function empty(val) {\n  switch (val) {\n    case null:\n    case undefined:\n    case '':\n      return '-';\n    default:\n      return val;\n  }\n};\nvar date = function date(val) {\n  switch (val) {\n    case null:\n    case undefined:\n    case '':\n      return '-';\n    default:\n      return new Date(val).format('yyyy-MM-dd hh:mm:ss');\n  }\n};\n\nvar getFilters = function getFilters(arr, val) {\n  arr = arr || [];\n  var message = '';\n  arr.forEach(function (item) {\n    if (item.value === val) {\n      message = item.label;\n      return;\n    }\n  });\n  return message;\n};\n/**\r\n * 选择文件\r\n */\nvar selectOtherFile = function selectOtherFile(e, message, type) {\n  var files = e.target.files || e.dataTransfer.files;\n  var ok = [];\n  if (type) {\n    if (type instanceof Array) {\n      type.forEach(function (item) {\n        ok.push(files[0].type === item ? 1 : 0);\n      });\n    } else {\n      ok.push(files[0].type === type ? 1 : 0);\n    }\n  } else {\n    ok.push(0);\n  }\n  console.log(files);\n  if (!files.length) return;\n  if (ok.indexOf(0) === -1) {\n    message({\n      type: 'error',\n      message: '文件类型选择错误！'\n    });\n    return;\n  }\n  if (files[0].size >= 20 * 1024 * 1024) {\n    message({\n      type: 'error',\n      message: '选择文件最大为20M'\n    });\n    return;\n  }\n  if (typeof FileReader === 'undefined') {\n    //globel.toast('不支持图片上传');\n    return false;\n  }\n  return files;\n};\nvar throttle = function throttle(func, delay) {\n  //函数节流\n  var timer = null;\n  var startTime = Date.now();\n  return function () {\n    var curTime = Date.now();\n    var remaining = delay - (curTime - startTime);\n    var context = _this2;\n    var args = _arguments;\n    clearTimeout(timer);\n    if (remaining <= 0) {\n      func.apply(context, args);\n      startTime = Date.now();\n    } else {\n      timer = setTimeout(func, remaining);\n    }\n  };\n};\nvar del = function del(arr, index, type) {\n  arr.splice(index, 1);\n  if (type) {\n    var file = document.getElementById(type);\n    file.value = ''; //虽然file的value不能设为有字符的值，但是可以设置为空值\n  }\n};\n/**\r\n *获取级联选择器的选项\r\n * @param val\r\n * @param opt\r\n * @param config\r\n * @returns {*}\r\n */\nvar getCascaderObj = function getCascaderObj(val, opt, config) {\n  var value = config || 'value';\n  return val.map(function (value, index, array) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(opt), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var itm = _step.value;\n\n        if (itm[value] == val) {\n          opt = itm.children;\n          return itm;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return null;\n  });\n};\n/**\r\n *获取选择器的选项\r\n * @param val\r\n * @param opt\r\n * @returns {string}\r\n */\nvar deepClone = function deepClone(val, opt) {\n  var arr = '',\n      item;\n  if (val.constructor == Array) {\n    val.map(function (value, index, array) {\n      item = opt.filter(function (item) {\n        return item.value === value;\n      })[0];\n      return item ? arr = item : '';\n    });\n  } else {\n    item = opt.filter(function (item) {\n      return item.value === val;\n    })[0];\n    return item ? arr = item : '';\n  }\n  return arr;\n};\nvar getType = function getType(obj) {\n  //tostring会返回对应不同的标签的构造函数\n  var toString = Object.prototype.toString;\n  var map = {\n    '[object Boolean]': 'boolean',\n    '[object Number]': 'number',\n    '[object String]': 'string',\n    '[object Function]': 'function',\n    '[object Array]': 'array',\n    '[object Date]': 'date',\n    '[object RegExp]': 'regExp',\n    '[object Undefined]': 'undefined',\n    '[object Null]': 'null',\n    '[object Object]': 'object'\n  };\n  if (obj instanceof Element) {\n    return 'element';\n  }\n  return map[toString.call(obj)];\n};\nvar deepCopy = function deepCopy(o) {\n  if (o instanceof Array) {\n    var n = [];\n    for (var i = 0; i < o.length; ++i) {\n      n[i] = deepCopy(o[i]);\n    }\n    return n;\n  } else if (o instanceof Function) {\n    var n = new Function(\"return \" + o.toString())();\n    return n;\n  } else if (o instanceof Object) {\n    var n = {};\n    for (var i in o) {\n      n[i] = deepCopy(o[i]);\n    }\n    return n;\n  } else {\n    return o;\n  }\n};\nvar getState = function getState(val) {\n  switch (val) {\n    case 0:\n      return '待招商';\n    case 1:\n      return '已招商';\n    case 2:\n      return '已锁定';\n\n  }\n};\n\nvar getChartType = function getChartType(val) {\n  switch (val) {\n    case 0:\n      return '商务';\n    case 1:\n      return '办公';\n    case 2:\n      return '工位';\n  }\n};\n\n/**\r\n *重置文件选择\r\n * @param id\r\n */\nvar removeFile = function removeFile(id) {\n  var fileObj = document.getElementById(id);\n  if (fileObj) {\n    fileObj.value = '';\n  }\n};\n\nvar ridFirstAndEnd = function ridFirstAndEnd(arr) {\n  var str = '';\n  arr.forEach(function (item, index) {\n    if (index == 0) {\n      str += item;\n    } else {\n      str += ',' + item;\n    }\n  });\n  return str;\n};\n/**\r\n * 拼接两个数组\r\n * @param arr1\r\n * @param arr2\r\n * @returns {*}\r\n */\nvar arrConcat = function arrConcat(arr1, arr2) {\n  if (!arr2 || getType(arr2) != 'array') {\n    return [3];\n  }\n  if (!arr1 || getType(arr1) != 'array') {\n    arr2.push(3);\n    return arr2;\n  }\n  arr1.forEach(function (item) {\n    arr2.push(item);\n  });\n  return arr2;\n};\n\n\n\n/**\r\n * elementUI 表单重置方法\r\n * @param obj\r\n * @param type\r\n */\nvar resetForm = function resetForm(obj, type) {\n  if (obj) {\n    if (type == 2) {\n      obj.map(function (item, index) {\n        item.resetFields();\n      });\n    } else {\n      obj.resetFields();\n    }\n  }\n};\n\n/**\r\n * 获取表单数据\r\n * @param o\r\n * @param j\r\n * @returns {FormData}\r\n */\nvar getFormData = function getFormData(o, j) {\n  var formData = new FormData();\n\n  var _loop = function _loop(i) {\n    if (o[i] !== null && o[i] !== undefined) {\n      if (getType(o[i]) === 'array') {\n        // formData.append(i, o[i]);\n        o[i].forEach(function (item) {\n          formData.append(i, item);\n        });\n      } else {\n        formData.append(i, o[i]);\n      }\n    } else {\n      formData.append(i, '');\n    }\n  };\n\n  for (var i in o) {\n    _loop(i);\n  }\n  return formData;\n};\n\nvar toDatetime = function toDatetime(time) {\n  return time ? new Date(time).format('yyyy-MM-dd 00:00:00') : '';\n};\nvar toDate = function toDate(time) {\n  return time ? new Date(time).format('yyyy-MM-dd') : '';\n};\n\nvar toDateTime = function toDateTime(time) {\n  return time ? new Date(time).format('yyyy-MM-dd hh:mm:ss') : '';\n};\n\n/**\r\n * elementUI 验证表单方法\r\n * @param obj\r\n * @param type\r\n * @returns {*}\r\n */\nvar checkForm = function checkForm(obj, type) {\n  var ok = void 0;\n  if (obj) {\n    if (type === 2) {\n      ok = [];\n      obj.map(function (item, index) {\n        item.validate(function (valid) {\n          if (valid) {\n            ok.push(1);\n          } else {\n            ok.push(2);\n          }\n        });\n      });\n    } else {\n      obj.validate(function (valid) {\n        if (valid) {\n          ok = 1;\n        } else {\n          ok = 2;\n        }\n      });\n    }\n  } else {\n    ok = 3;\n  }\n  return ok;\n};\n\n/**\r\n *用JSON.parse()转译字符串的判断\r\n * @param str\r\n * @returns {*}\r\n */\nvar strParse = function strParse(str) {\n  switch (str) {\n    case undefined:\n    case 'undefined':\n      return undefined;\n    case null:\n    case 'null':\n      return null;\n    case '':\n      return '';\n    default:\n      try {\n        return str ? JSON.parse(str) : '';\n      } catch (err) {\n        return '';\n      }\n  }\n};\n\n/**\r\n * 获得时间间隔\r\n */\nvar getTime = function getTime(stTime, edTime) {\n  /* console.log(new Date(stTime), 1)*/\n  var stTimeMillisecond = new Date(stTime).getTime();\n  var edTimeMillisecond = new Date(edTime).getTime();\n  //对不规则的开始时间进行整理\n  /* if (getTimeSecond(stTime,2) <= stTimeMillisecond && getTimeSecond(stTime,3) >= stTimeMillisecond) {\r\n     stTime = getTimeSecond(stTime,3);\r\n   }\r\n   if (getTimeSecond(stTime,1) >= stTimeMillisecond) {\r\n     stTime = getTimeSecond(stTime,1);\r\n   }\r\n   if (getTimeSecond(stTime,4) <= stTimeMillisecond) {\r\n     stTime = getTimeSecond(stTime,5);\r\n   }\r\n   console.log(new Date(stTime), 2)\r\n   //对不规则的结束时间进行整理\r\n   if (getTimeSecond(edTime,2) <= edTimeMillisecond && getTimeSecond(edTime,3) >= edTimeMillisecond) {\r\n     edTime = getTimeSecond(edTime,2);\r\n   }\r\n   if (getTimeSecond(edTime,1) >= edTimeMillisecond) {\r\n     edTime = getTimeSecond(edTime,9);\r\n   }\r\n   if (getTimeSecond(edTime,4) <= edTimeMillisecond) {\r\n     edTime = getTimeSecond(edTime,4);\r\n   }\r\n  */\n\n  var startTime = new Date(stTime);\n  var endTime = new Date(edTime);\n  var oneDayTime = 8 * 60 * 60 * 1000;\n  var dayEnd = 16 * 3600000 + 30 * 60000;\n  var reduceTime = 0; //应减去的时间\n  if (startTime.getHours() >= 8) {\n    //开始时间大于8点\n    if (startTime.getHours() < 12) {\n      reduceTime += (startTime.getHours() - 8) * 3600000 + startTime.getMinutes() * 60000;\n    } else if (startTime.getHours() === 12 && startTime.getMinutes() < 30) {\n      //开始时间在12:00 - 12:30\n      reduceTime += 4 * 3600000;\n    } else if (startTime.getHours() === 16 && startTime.getMinutes() >= 30 || startTime.getHours() > 16) {\n      reduceTime += 8 * 3600000;\n    } else {\n      reduceTime += 4 * 3600000 + startTime.getHours() * 3600000 + startTime.getMinutes() * 60000 - 12 * 3600000 - 30 * 60000;\n    }\n  }\n  if (endTime.getHours() * 3600000 + endTime.getMinutes() * 60000 - dayEnd < 0) {\n    reduceTime += dayEnd - endTime.getHours() * 3600000 - endTime.getMinutes() * 60000;\n    if (endTime.getHours() === 12 && endTime.getMinutes() < 30) {\n      //结束时间在12:00 - 12:30\n      reduceTime -= 12 * 3600000 + 30 * 60000 - endTime.getHours() * 3600000 - endTime.getMinutes() * 60000;\n    } else if (endTime.getHours() < 12) {\n      reduceTime -= 30 * 60000;\n      if (endTime.getHours() < 8) {\n        reduceTime -= 8 * 3600000;\n      }\n    }\n  }\n  var allDay = (new Date(endTime.getFullYear() + '-' + (endTime.getMonth() + 1) + '-' + endTime.getDate() + ' 24:00:00') - new Date(startTime.getFullYear() + '-' + (startTime.getMonth() + 1) + '-' + startTime.getDate() + ' 00:00:00')) / (24 * 3600000); //相差总天数\n  return oneDayTime * allDay - reduceTime;\n};\n\n/**\r\n * 获得结束时间\r\n * yyp\r\n */\nvar getEndtime = function getEndtime(startTime, time) {\n  var start = new Date(startTime);\n  var day = Math.floor(time / (8 * 3600)); //经过多少天\n  var remainingTime = time % (8 * 3600); //减去天数后剩余多少秒\n  var endTime = start.setDate(start.getDate() + day); //开始时间加上经过多少天\n  if (new Date(endTime).getHours() < 8) {\n    //小于八点\n    endTime = new Date(endTime).setHours(8, 0, 0, 0);\n  } else if (new Date(endTime).getHours() === 16 && new Date(endTime).getMinutes() >= 30 || new Date(endTime).getHours() > 16) {\n    //大于16:30\n    endTime = new Date(endTime).add('d', 1);\n    endTime = new Date(endTime).setHours(8, 0, 0, 0);\n  } else if (new Date(endTime).getHours() === 12 && new Date(endTime).getMinutes() <= 30) {\n    endTime = new Date(endTime).setHours(12, 30, 0, 0);\n    endTime -= 30 * 60000;\n  }\n  endTime += remainingTime * 1000;\n  if (new Date(endTime).getHours() === 12 && new Date(endTime).getMinutes() >= 30 || new Date(endTime).getHours() >= 13) {\n    if (start.getHours() <= 12) {\n      endTime += 30 * 60000;\n    }\n  }\n  if (new Date(endTime).getHours() === 16 && new Date(endTime).getMinutes() >= 30 || new Date(endTime).getHours() > 16) {\n    var hour = new Date(endTime).getHours();\n    var minute = new Date(endTime).getMinutes();\n    endTime = new Date(endTime).setDate(new Date(endTime).getDate() + 1);\n    endTime = new Date(endTime).setHours(8, 0, 0, 0);\n    endTime += (hour - 16) * 3600000;\n    endTime += (minute - 30) * 60000;\n  }\n  if (new Date(endTime).getHours() < 8) {\n    endTime = new Date(endTime).setDate(new Date(endTime).getDate() - 1);\n    endTime = new Date(endTime).setHours(16, 30, 0, 0);\n  }\n  return new Date(endTime).format('yyyy-MM-dd hh:mm:ss');\n};\n\n/**\r\n * 判断当前元素与上一个元素是否相同\r\n *\r\n */\nvar getSpanArr = function getSpanArr(data, val) {\n  var spanArr = [];\n  var pos = 0;\n  for (var i = 0; i < data.length; i++) {\n    if (i === 0) {\n      spanArr.push(1);\n      pos = 0;\n    } else {\n      // 判断当前元素与上一个元素是否相同\n      if (data[i][val] === data[i - 1][val]) {\n        spanArr[pos] += 1;\n        spanArr.push(0);\n      } else {\n        spanArr.push(1);\n        pos = i;\n      }\n    }\n  }\n  return spanArr;\n};\n\n/**\r\n * 把第startIndex位置的放到endIndex位置\r\n *\r\n */\nvar updatePeople = function updatePeople(arr, start, end, position) {\n  start = Number(start);\n  end = Number(end);\n  var a = void 0;\n  if (start < end) {\n    if (position == 'left') {\n      a = end - 1;\n    } else {\n      a = end + 1;\n    }\n  } else {\n    if (position == 'left') {\n      a = end;\n    } else {\n      a = end + 1;\n    }\n  }\n  var startIndex = start;\n  var endIndex = a;\n  if (start > end) {\n    /*往左*/\n    var temp = startIndex;\n    startIndex = endIndex;\n    endIndex = temp;\n    var frontArr = arr.slice(0, startIndex);\n    var secondArr = arr.slice(startIndex, endIndex);\n    var endArr = arr.slice(endIndex + 1);\n    var moveItem = JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(arr[endIndex]));\n    var endItem = position == 'left' ? JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(arr[startIndex])) : JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(arr[startIndex - 1]));\n    var array = [];\n    moveItem.startTime = position == 'left' ? endItem.startTime : endItem.endTime;\n    moveItem.endTime = getEndtime(moveItem.startTime, moveItem.duration / 1000);\n    array.push(moveItem);\n    var allArr = secondArr.concat(endArr);\n    allArr.forEach(function (item, index) {\n      item.startTime = array[array.length - 1].endTime;\n      item.endTime = getEndtime(item.startTime, item.duration / 1000);\n      array.push(item);\n    });\n    var jsonData = {\n      newArr: frontArr.concat(array),\n      startTime: moveItem.startTime,\n      endTime: moveItem.endTime\n    };\n    return jsonData;\n  } else {\n    /*往右*/\n    /*start,end*/\n    var _frontArr = arr.slice(0, start);\n    var _secondArr = position == 'left' ? arr.slice(start + 1, end) : arr.slice(start + 1, end + 1);\n    var _endArr = position == 'left' ? arr.slice(end) : arr.slice(end + 1);\n    var _moveItem = JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(arr[start]));\n    var _endItem = JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(arr[end]));\n    var _array = [];\n    _moveItem.startTime = position == 'left' ? _endItem.startTime : _endItem.endTime;\n    _moveItem.endTime = getEndtime(_moveItem.startTime, _moveItem.duration / 1000);\n    _array.push(_moveItem);\n    _endArr.forEach(function (item, index) {\n      item.startTime = _array[_array.length - 1].endTime;\n      item.endTime = getEndtime(item.startTime, item.duration / 1000);\n      _array.push(item);\n    });\n    var _jsonData = {\n      newArr: _frontArr.concat(_secondArr).concat(_array),\n      startTime: _moveItem.startTime,\n      endTime: _moveItem.endTime\n    };\n    return _jsonData;\n  }\n};\n\n/**\r\n * 获得结束时间\r\n */\n\nvar getEndtimes = function getEndtimes(startTime, durtion) {\n  var stime = startTime;\n  if (new Date(startTime).getTime() === getTimeSecond(startTime, 2)) {\n    stime = getTimeSecond(startTime, 3);\n  }\n  if (new Date(startTime).getTime() === getTimeSecond(startTime, 4)) {\n    stime = getTimeSecond(startTime, 5);\n  }\n  var start = new Date(stime).getTime(); /*起始毫秒数*/\n  var secondDuration = durtion * 60 * 1000; /*时长的毫秒数*/\n  var secondFour = 4 * 60 * 60 * 1000; /*4个小时的毫秒数*/\n  var numFour = Math.floor(secondDuration / secondFour); /*有多少的（4个小时的毫秒数）*/\n  var secondResidue = secondDuration % secondFour; /*取余数（4个小时的毫秒数） */\n  var type = void 0;\n  if (start >= getTimeSecond(start, 1) && start <= getTimeSecond(start, 2)) {\n    /*上午*/\n    type = 1;\n  } else {\n    /*下午*/\n    type = 2;\n  }\n  if (numFour > 0) {\n    /*大于4个小时*/\n    var x1 = Math.floor(numFour / 2); //取整数\n    var x2 = numFour % 2; //取余数\n    var stTime = void 0;\n    var a = void 0;\n    if (type === 1) {\n      /*上午*/\n      if (x2 === 1) {\n        a = new Date(start).add('d', x1).getTime();\n        stTime = getTimeSecond(a, 3) + start - getTimeSecond(start, 1);\n        return getAfternoon(stTime, secondResidue);\n      } else {\n        stTime = new Date(start).add('d', x1).getTime();\n        return getMorning(stTime, secondResidue);\n      }\n    } else {\n      /*下午*/\n      if (x2 === 1) {\n        a = new Date(start).add('d', x1).getTime();\n        stTime = getTimeSecond(a, 5) + start - getTimeSecond(start, 3);\n        return getMorning(stTime, secondResidue);\n      } else {\n        stTime = new Date(start).add('d', x1).getTime();\n        return getAfternoon(stTime, secondResidue);\n      }\n    }\n  } else {\n    if (type === 1) {\n      /*上午*/\n      return getMorning(start, secondResidue);\n    } else {\n      /*下午*/\n      return getAfternoon(start, secondResidue);\n    }\n  }\n};\nvar getMorning = function getMorning(start, secondResidue) {\n  var time = void 0;\n  if (start + secondResidue > getTimeSecond(start, 2)) {\n    time = getTimeSecond(start, 3) + (secondResidue - (getTimeSecond(start, 2) - start));\n    // console.log(checkTime(time),'上午大于4小时 numFour = 0')\n    return checkTime(time);\n  } else {\n    time = start + secondResidue;\n    //console.log(checkTime(time),'上午不足4小时 numFour = 0')\n    return checkTime(time);\n  }\n};\nvar getAfternoon = function getAfternoon(start, secondResidue) {\n  var time = void 0;\n  if (start + secondResidue > getTimeSecond(start, 4)) {\n    time = getTimeSecond(start, 5) + (secondResidue - (getTimeSecond(start, 4) - start));\n    //console.log(checkTime(time),'下午大于4小时 numFour = 0')\n    return checkTime(time);\n  } else {\n    time = start + secondResidue;\n    //console.log(checkTime(time),'下午不足4小时 numFour = 0')\n    return checkTime(time);\n  }\n};\nvar checkTime = function checkTime(time) {\n  var a = new Date(time).format('yyyy.MM.dd');\n  if (new Date(time).getTime() === getTimeSecond(time, 1)) {\n    return new Date(getTimeSecond(new Date(a).add('d', '-1').getTime(), 4)).format('yyyy.MM.dd hh:mm:ss');\n  } else if (new Date(time).getTime() === getTimeSecond(time, 3)) {\n    return new Date(getTimeSecond(time, 2)).format('yyyy.MM.dd hh:mm:ss');\n  } else {\n    return new Date(time).format('yyyy.MM.dd hh:mm:ss');\n  }\n};\nvar getTimeSecond = function getTimeSecond(time, type) {\n  var temp = new Date(time).format('yyyy.MM.dd');\n  var nextTemp = new Date(time).add('d', 1).format('yyyy.MM.dd');\n  var beforeTemp = new Date(time).add('d', -1).format('yyyy.MM.dd');\n  switch (type) {\n    case 1:\n      return new Date(temp + ' 08:00:00').getTime();\n    case 2:\n      return new Date(temp + ' 12:00:00').getTime();\n    case 3:\n      return new Date(temp + ' 12:30:00').getTime();\n    case 4:\n      return new Date(temp + ' 16:30:00').getTime();\n    case 5:\n      return new Date(nextTemp + ' 08:00:00').getTime();\n    case 6:\n      return new Date(nextTemp + ' 12:00:00').getTime();\n    case 7:\n      return new Date(nextTemp + ' 12:30:00').getTime();\n    case 8:\n      return new Date(nextTemp + ' 16:30:00').getTime();\n    case 9:\n      return new Date(beforeTemp + ' 16:30:00').getTime();\n  }\n};\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.5350703a9a5ac800c218.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"craft-box\"},[(!_vm.notEdit)?_c('div',{staticClass:\"flex-box flex-center\"},[_c('el-button',{staticClass:\"flex-box\",attrs:{\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":function($event){_vm.adds(_vm.items[0])}}},[_vm._v(\"添加主流程\"),_c('i',{staticClass:\"el-icon--right el-icon-circle-plus-outline\"})]),_vm._v(\" \"),_c('el-button',{staticClass:\"flex-box\",attrs:{\"type\":\"success\",\"plain\":\"\"},on:{\"click\":function($event){_vm.adds(_vm.items[1])}}},[_vm._v(\"添加半成品\"),_c('i',{staticClass:\"el-icon--right el-icon-circle-plus-outline\"})]),_vm._v(\" \"),_c('el-button',{staticClass:\"flex-box\",attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.adds(_vm.items[2])}}},[_vm._v(\"添加工序\"),_c('i',{staticClass:\"el-icon--right el-icon-circle-plus-outline\"})])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex-box flex-center\"},[_c('ul',{staticClass:\"craft-info flex-box\",on:{\"dragover\":function($event){$event.stopPropagation();return _vm.handleDragOver($event)},\"drop\":function($event){$event.stopPropagation();return _vm.handleDrag($event)}}},_vm._l((_vm.craftLineCopy),function(model,index){return _c('items',{key:index,attrs:{\"model\":model,\"item-height\":_vm.itemHeight}})}))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-404b1166\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/craft.vue\n// module id = 1CsI\n// module chunks = 1","\r\nimport * as types from './mutation-types.js'\r\n\r\nimport store from '../story/'\r\n\r\n\r\n\r\nexport default {\r\n\r\n/*  async getCartlist({\r\n    commit,\r\n    state\r\n  }) {\r\n    let res = await getData.shoppingCartNum();\r\n    commit(types.SAVE_CARTLIST, res.shoppingCartNum)\r\n  }*/\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/story/action.js","export default {\r\n\t\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/story/getters.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"item\"},[(_vm.model.procedureType === 'process')?_c('div',{staticClass:\"item-info\",class:[_vm.model.procedureType,{border:_vm.$store.state.selectHash==_vm.model.hash},_vm.$store.state.activeHash==_vm.model.hash?_vm.$store.state.activeDirection:'',{disabled:_vm.$store.state.startHash==_vm.model.hash},{fixed:_vm.model.fixed}],style:({height: _vm.itemHeight+'px'}),attrs:{\"draggable\":!_vm.model.fixed,\"data-hash\":_vm.model.hash},on:{\"dragstart\":function($event){$event.stopPropagation();return _vm.changeDragStart($event)},\"dragend\":function($event){$event.stopPropagation();return _vm.changeDragEnd($event)},\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.select(_vm.model)}}},[(!_vm.model.fixed)?_c('div',{staticClass:\"j-delete\"},[_c('i',{staticClass:\"el-icon-remove-outline\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.del(_vm.model.hash)}}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_vm._v(\"\\n      \"+_vm._s(_vm.model.procedureName)+\"\\n    \")])]):(_vm.model.procedureType === 'semi')?_c('div',{staticClass:\"item-info\",class:[_vm.model.procedureType,{border:_vm.$store.state.selectHash==_vm.model.hash},_vm.$store.state.activeHash==_vm.model.hash?_vm.$store.state.activeDirection:'',{disabled:_vm.$store.state.startHash==_vm.model.hash}],attrs:{\"draggable\":\"true\",\"data-hash\":_vm.model.hash},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.select(_vm.model)},\"dragstart\":function($event){$event.stopPropagation();return _vm.changeDragStart($event)},\"dragend\":function($event){$event.stopPropagation();return _vm.changeDragEnd($event)}}},[_c('div',{staticClass:\"info\"},[_vm._v(\"\\n      \"+_vm._s(_vm.model.procedureName)),(_vm.model.procedureQuantity&&_vm.model.procedureQuantity>1)?_c('span',[_vm._v(\"*\"+_vm._s(_vm.model.procedureQuantity))]):_vm._e(),_vm._v(\" \"),(_vm.totalNum>0)?_c('div',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.isShow = !_vm.isShow;}}},[_c('i',{class:_vm.isShow?'el-icon-caret-bottom':'el-icon-caret-top'}),_vm._v(_vm._s(_vm.totalNum)+\"道工序\\n      \")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"j-delete\"},[_c('i',{staticClass:\"el-icon-remove-outline\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.del(_vm.model.hash)}}})])])]):_c('div',{staticClass:\"item-info\",class:[_vm.model.procedureType,{border:_vm.$store.state.selectHash==_vm.model.hash},_vm.$store.state.activeHash==_vm.model.hash?_vm.$store.state.activeDirection:'',{disabled:_vm.$store.state.startHash==_vm.model.hash},{fixed:_vm.model.fixed}],attrs:{\"draggable\":!_vm.model.fixed,\"data-hash\":_vm.model.hash},on:{\"dragstart\":function($event){$event.stopPropagation();return _vm.changeDragStart($event)},\"dragend\":function($event){$event.stopPropagation();return _vm.changeDragEnd($event)},\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.select(_vm.model)}}},[_c('div',{staticClass:\"info\"},[_vm._v(\"\\n      \"+_vm._s(_vm.model.procedureName)+\"\\n      \"),(_vm.totalNum>0)?_c('div',[_vm._v(_vm._s(_vm.totalNum)+\"道工序\")]):_vm._e(),_vm._v(\" \"),(!_vm.model.fixed)?_c('div',{staticClass:\"j-delete\"},[_c('i',{staticClass:\"el-icon-remove-outline\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.del(_vm.model.hash)}}})]):_vm._e()])]),_vm._v(\" \"),(_vm.model.children&&_vm.model.children.length>0)?_c('ul',{class:{isShow:!_vm.isShow}},_vm._l((_vm.model.children),function(cel,index){return _c('items',{key:index,attrs:{\"model\":cel,\"item-height\":_vm.itemHeight}})})):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0cf7d4ae\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow.vue\n// module id = D6Am\n// module chunks = 1","import * as types from './mutation-types.js'\r\n\r\n\r\nexport default {\r\n\r\n  //工单流程新增\r\n  [types.SAVE_ORDERFLOWADD](state, orderFlowInfo) {\r\n    state.orderFlowInfo = orderFlowInfo\r\n  },\r\n  //当前工单\r\n  [types.SAVE_ORDERFLOWACTIVE](state, orderFlowInfoActive) {\r\n    state.orderFlowInfoActive = orderFlowInfoActive\r\n  },\r\n  [types.SHOW_HOUSE_INFO](state, company) {\r\n    state.houseDialog = !state.houseDialog;\r\n    if (company) {\r\n      state.finalState = company.colorType;\r\n      state.houseResId = company.houseResId;\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/story/mutations.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-743dd37e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./craftLine.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./craftLine.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./craftLine.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-743dd37e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./craftLine.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/craftLine.vue\n// module id = IEfW\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"warp-box flex-direction-box\"},[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"外部添加自带工序\")])],1),_vm._v(\" \"),_c('craft',{ref:\"craft\",attrs:{\"craft-line\":_vm.craftLine,\"add-before\":_vm.addBefore},on:{\"get-list\":_vm.getList}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-743dd37e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/craftLine.vue\n// module id = KGta\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51b2c5c7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51b2c5c7\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './story/'\nimport ElementUI from 'element-ui'\n\n\nVue.use(ElementUI);\n\nimport components from './components/'\n\nObject.keys(components).forEach((key) => {\n  var name = key.replace(/(\\w)/, (v) => v.toUpperCase()) // 首字母大写\n  Vue.component(`v${name}`, components[key])\n})\n\nrouter.beforeEach((to, from, next) => {\n  next();\n})\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  store,\n  router,\n  render: h => h(App),\n  template: '<App/>',\n  components: {App}\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0cf7d4ae\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./flow.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./flow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./flow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0cf7d4ae\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./flow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/flow.vue\n// module id = NWCo\n// module chunks = 1","export const SAVE_ORDERFLOWADD = 'SAVE_ORDERFLOWADD'\r\nexport const SAVE_ORDERFLOWACTIVE = 'SAVE_ORDERFLOWACTIVE'\r\nexport const SHOW_HOUSE_INFO = 'SHOW_HOUSE_INFO'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/story/mutation-types.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51b2c5c7\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = UhAd\n// module chunks = 1","import Vue from 'vue'\nimport Router from 'vue-router'\n\nimport craftLine from '@/view/craftLine.vue'\n\n\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: '',\n      redirect: '/craftLine',\n    },\n    {\n      path: '/craftLine',\n      component: craftLine,\n      name: '工艺路线'\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport mutations from './mutations'\nimport actions from './action'\nimport getters from './getters'\n\nVue.use(Vuex)\nwindow.Promise = Promise;\n\nconst state = {\n  history:[],\n  startHash:-1,\n  moveItem:{},\n  selectHash:-1,\n  deleteHash:-1,\n  activeHash:-1,\n  activeDirection:'top',\n};\nexport default new Vuex.Store({\n  state,\n  getters,\n  actions,\n  mutations,\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/story/index.js","/**\n * Created by Administrator on 2017/12/7.\n */\n\nexport default {\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/index.js","<template>\r\n  <li class=\"item\">\r\n\r\n    <div class=\"item-info\"\r\n         :class=\"[model.procedureType,{border:$store.state.selectHash==model.hash},$store.state.activeHash==model.hash?$store.state.activeDirection:'',{disabled:$store.state.startHash==model.hash},{fixed:model.fixed}]\"\r\n         :style=\"{height: itemHeight+'px'}\"\r\n         v-if=\"model.procedureType === 'process'\"\r\n         :draggable=\"!model.fixed\"\r\n         :data-hash=\"model.hash\"\r\n         @dragstart.stop=\"changeDragStart\"\r\n         @dragend.stop=\"changeDragEnd\"\r\n         @click.stop.prevent=\"select(model)\">\r\n      <div class=\"j-delete\" v-if=\"!model.fixed\"><i class=\"el-icon-remove-outline\" @click.stop.prevent=\"del(model.hash)\"></i></div>\r\n      <div class=\"info\">\r\n        {{model.procedureName}}\r\n      </div>\r\n    </div>\r\n    <div class=\"item-info\"\r\n         :class=\"[model.procedureType,{border:$store.state.selectHash==model.hash},$store.state.activeHash==model.hash?$store.state.activeDirection:'',{disabled:$store.state.startHash==model.hash}]\"\r\n         v-else-if=\"model.procedureType === 'semi'\"\r\n         @click.stop.prevent=\"select(model)\"\r\n         draggable=\"true\"\r\n         :data-hash=\"model.hash\"\r\n         @dragstart.stop=\"changeDragStart\"\r\n         @dragend.stop=\"changeDragEnd\">\r\n      <div class=\"info\">\r\n        {{model.procedureName}}<span v-if=\"model.procedureQuantity&&model.procedureQuantity>1\">*{{model.procedureQuantity}}</span>\r\n        <div @click.stop.prevent=\"isShow = !isShow;\" v-if=\"totalNum>0\"><i :class=\"isShow?'el-icon-caret-bottom':'el-icon-caret-top'\"></i>{{totalNum}}道工序\r\n        </div>\r\n        <div class=\"j-delete\"><i class=\"el-icon-remove-outline\" @click.stop.prevent=\"del(model.hash)\"></i></div>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"item-info\"\r\n         :class=\"[model.procedureType,{border:$store.state.selectHash==model.hash},$store.state.activeHash==model.hash?$store.state.activeDirection:'',{disabled:$store.state.startHash==model.hash},{fixed:model.fixed}]\"\r\n         v-else\r\n         :draggable=\"!model.fixed\"\r\n         :data-hash=\"model.hash\"\r\n         @dragstart.stop=\"changeDragStart\"\r\n         @dragend.stop=\"changeDragEnd\"\r\n         @click.stop.prevent=\"select(model)\">\r\n      <div class=\"info\">\r\n        {{model.procedureName}}\r\n        <div v-if=\"totalNum>0\">{{totalNum}}道工序</div>\r\n        <div class=\"j-delete\" v-if=\"!model.fixed\"><i class=\"el-icon-remove-outline\" @click.stop.prevent=\"del(model.hash)\"></i></div>\r\n      </div>\r\n    </div>\r\n    <ul v-if=\"model.children&&model.children.length>0\" :class=\"{isShow:!isShow}\">\r\n      <items v-for='(cel,index) in model.children' :model='cel' :item-height=\"itemHeight\" :key=\"index\">\r\n      </items>\r\n    </ul>\r\n  </li>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'items',\r\n    props: ['model', 'itemHeight', 'edit'],\r\n    data () {\r\n      return {\r\n        totalNum: 0,\r\n        isShow: true,\r\n      }\r\n    },\r\n    mounted () {\r\n      this.total(this.model)\r\n    },\r\n    computed: {},\r\n    methods: {\r\n      total(item){\r\n        if (item.children && item.children.length > 0) {\r\n          item.children.forEach((i) => {\r\n            this.total(i)\r\n          })\r\n        } else {\r\n          if (item.procedureType === 'process') {\r\n            this.totalNum++\r\n          }\r\n        }\r\n      },\r\n      changeDragStart(el) {\r\n        this.$store.state.startHash = el.target.getAttribute('data-hash')\r\n      },\r\n      changeDragEnd(el) {\r\n        this.$store.state.startHash = -1\r\n        this.$store.state.activeHash = -1\r\n      },\r\n      select(model){\r\n        this.$store.state.selectHash = model.hash\r\n      },\r\n      del(hash){\r\n        this.$store.state.deleteHash = hash\r\n      }\r\n    },\r\n    components: {},\r\n    filters: {},\r\n    watch: {\r\n      model: {\r\n        handler: function (val, oldval) {\r\n          this.totalNum = 0\r\n          this.total(this.model)\r\n        },\r\n        deep: true//对象内部的属性监听，也叫深度监听\r\n      },\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\">\r\n  @import '../assets/css/mixin';\r\n\r\n  .item {\r\n    display: flex;\r\n    .item-info {\r\n      width: 122px;\r\n      margin: 0 7px;\r\n      position: relative;\r\n      border-radius: 4px;\r\n      margin-bottom: 15px;\r\n      cursor: pointer;\r\n      min-height: 54px;\r\n      .j-delete {\r\n        display: none;\r\n        .el-icon-remove-outline{\r\n          @include sc(20px,$fc);\r\n          margin: 5px 0;\r\n        }\r\n      }\r\n      &:hover{\r\n        .j-delete {\r\n          display: block;\r\n        }\r\n      }\r\n      &.process {\r\n        background-color: #FFB84D;\r\n        border: 1px dashed #333;\r\n      }\r\n      &.semi,&.half {\r\n        background-color: #41D6FB;\r\n      }\r\n      &.flow,&.product {\r\n        background: $blue;\r\n        background: linear-gradient(180deg, rgba(87, 132, 255, 1) 0%, rgba(41, 134, 255, 1) 100%);\r\n      }\r\n      &.border {\r\n        border: 1px solid red;\r\n      }\r\n      &.top, &.bottom {\r\n        &:after {\r\n          position: absolute;\r\n          content: '';\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          border: 1px dashed #999;\r\n          background-color: #ccc;\r\n          height: 10px;\r\n          border-radius: 4px;\r\n        }\r\n      }\r\n      &.top:after {\r\n        top: -12.5px;\r\n      }\r\n      &.bottom:after {\r\n        bottom: -12.5px;\r\n      }\r\n      &.disabled {\r\n        opacity: .3;\r\n        &:after {\r\n          display: none;\r\n        }\r\n      }\r\n      .info {\r\n        color: #333;\r\n        text-align: center;\r\n        font-size: 16px;\r\n        @include center();\r\n        width: 100%;\r\n      }\r\n    }\r\n    .isShow {\r\n      display: none;\r\n      overflow: hidden;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/flow.vue","<template>\n  <div class=\"warp-box flex-direction-box\">\n    <div><el-button type=\"primary\" @click=\"add\">外部添加自带工序</el-button></div>\n    <craft :craft-line=\"craftLine\" :add-before=\"addBefore\" ref=\"craft\" @get-list=\"getList\"></craft>\n  </div>\n</template>\n\n<script>\n  import craft from '../components/craft.vue'\n  export default {\n\n    data() {\n      return {\n      \tcraftLine:[\n          {\n            procedureType: 'flow',\n            procedureName: '主流程',\n            hash: 1539651058192,\n            fixed:true,\n            children: [\n              {\n                procedureType: 'semi',\n                procedureName: '半成品',\n                hash: 1539651058193,\n                fixed:true,\n                children: [\n                  {\n                    procedureType: 'process',\n                    procedureName: '自带工序',\n                    hash: 1539651058194,\n                    fixed:true,\n                  },\n                  {\n                    procedureType: 'process',\n                    procedureName: '自带工序2',\n                    hash: 1539651058195,\n                    fixed:true,\n                  }\n                ]\n              }\n            ]\n          }\n        ],\n        halfList:[]\n      }\n    },\n    computed: {},\n    mounted() {\n\n    },\n    components: {\n      craft\n    },\n    methods: {\n      addBefore(item,next){\n      \t//console.log(item)\n        // do something\n        //item.dddd=111\n        next(item)\n      },\n      add(){\n        this.$refs.craft.addresult({\n          procedureType: 'process',\n          procedureName: '自带工序',\n          hash: 1539651058195\n        })\n      },\n      getList(arr){\n        this.halfList = []\n        let arrs = JSON.parse(JSON.stringify(arr))\n        arrs.reverse()\n        let start = null\n        let end = arrs.length\n        let halfList = []\n        for(let i=0; i<arrs.length; i++){\n          if(arrs[i].hash == this.$store.state.selectHash){\n            start = i\n            console.log(start)\n          } else if(arrs[i].procedureType == 'process' && start != null){\n            end = i\n            console.log(end)\n            break\n          }\n        }\n        if(end-start>1){\n          halfList = arrs.slice(start+1,end)\n          halfList.forEach(item => {\n            if(item.procedureType == 'semi'){\n              this.halfList.push(item)\n            } else {\n              this.getHalf(item.children)\n            }\n          })\n        }\n        console.log(this.halfList)\n      },\n      getHalf(arr){\n        arr.forEach(item => {\n          if(item.procedureType == 'semi'){\n            this.halfList.push(item)\n          } else if(item.children&&item.children.length>0){\n            this.getHalf(item.children)\n          }\n        })\n      }\n    },\n    watch: {\n    }\n  };\n</script>\n\n<style lang=\"scss\">\n  @import '../assets/css/mixin';\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/craftLine.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-404b1166\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./craft.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./craft.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./craft.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-404b1166\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./craft.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/craft.vue\n// module id = tH33\n// module chunks = 1","<template>\r\n  <div class=\"craft-box\">\r\n    <!--<div>{{craftLineCopy}}</div>-->\r\n    <div class=\"flex-box flex-center\" v-if=\"!notEdit\">\r\n      <el-button type=\"warning\" class=\"flex-box\" plain @click=\"adds(items[0])\">添加主流程<i class=\"el-icon--right el-icon-circle-plus-outline\"></i></el-button>\r\n      <el-button type=\"success\" class=\"flex-box\" plain @click=\"adds(items[1])\">添加半成品<i class=\"el-icon--right el-icon-circle-plus-outline\"></i></el-button>\r\n      <el-button type=\"primary\" class=\"flex-box\" plain @click=\"adds(items[2])\">添加工序<i class=\"el-icon--right el-icon-circle-plus-outline\"></i></el-button>\r\n    </div>\r\n    <div class=\"flex-box flex-center\">\r\n      <ul class=\"craft-info flex-box\" @dragover.stop=\"handleDragOver\" @drop.stop=\"handleDrag\">\r\n        <items :model='model' :item-height=\"itemHeight\" v-for='(model,index) in craftLineCopy' :key=\"index\"></items>\r\n      </ul>\r\n    </div>\r\n    <!--{{$store.state.selectHash}}\r\n    {{$store.state.startHash}}-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import * as global from \"../config/mUtils\";\r\n  import items from './flow.vue'\r\n  export default {\r\n\r\n    data() {\r\n      return {\r\n        items: [\r\n          {\r\n            procedureType: 'flow',\r\n            procedureName: '主流程',\r\n            children: []\r\n          },\r\n          {\r\n            procedureType: 'semi',\r\n            procedureName: '边方块',\r\n            children: [{\r\n              procedureType: 'process',\r\n              procedureName: '工序',\r\n              children: []\r\n            }]\r\n          },\r\n          {\r\n            procedureType: 'process',\r\n            procedureName: '工序',\r\n            children: [],\r\n            checkState: false\r\n          }\r\n        ],\r\n        itemHeight: 54,\r\n        hasSelect: false,\r\n        craftLineCopy:[]\r\n      }\r\n    },\r\n    props: {\r\n      craftLine: {\r\n        type: Array\r\n      },\r\n      addBefore: {\r\n        type: Function\r\n      },\r\n      notEdit: {\r\n        type: Boolean\r\n      },\r\n    },\r\n    computed: {},\r\n    created(){\r\n\r\n    },\r\n    mounted() {\r\n      this.craftLineCopy = this.craftLine\r\n      this.$store.state.selectHash = this.craftLineCopy[0].hash\r\n    },\r\n    components: {\r\n      items\r\n    },\r\n    methods: {\r\n      adds(type){\r\n        this.addBefore(type,this.addresult)\r\n      },\r\n      addresult(type){\r\n        this.recursion(this.craftLineCopy, this.$store.state.selectHash, (arrs, j) => {\r\n          if (arrs[j].procedureType == 'flow') {\r\n            const types = Object.assign({}, {hash: Date.now(), children: []}, type)\r\n            arrs[j].children.push(types)\r\n          }\r\n          this.craftLineCopy = JSON.parse(JSON.stringify(this.craftLineCopy))\r\n        })\r\n      },\r\n      handleDragOver(el){\r\n        el.preventDefault();//重要\r\n        el.dataTransfer.dropEffect = 'move';\r\n        if(el.target.className.indexOf('fixed')>-1){\r\n          return\r\n        }\r\n        const activeHash = el.target.getAttribute('data-hash');\r\n        if (activeHash != null) {\r\n          this.$store.state.activeHash = activeHash\r\n          const center = el.target.getBoundingClientRect().y + (el.target.getBoundingClientRect().height / 2)\r\n          if (el.pageY > center) {\r\n            this.$store.state.activeDirection = 'bottom'\r\n          } else {\r\n            this.$store.state.activeDirection = 'top'\r\n          }\r\n        }\r\n      },\r\n      handleDrag(){\r\n        if (this.$store.state.activeHash == -1 || this.$store.state.startHash == -1 || this.$store.state.startHash == this.$store.state.activeHash) {\r\n          return\r\n        }\r\n        this.remove(this.craftLineCopy, this.$store.state.startHash)\r\n        this.add(this.craftLineCopy, this.$store.state.activeHash)\r\n        this.recursion(this.craftLineCopy,this.$store.state.selectHash,(arrs, j)=>{\r\n          if(arrs[j].procedureType == 'process'){\r\n            this.$emit('get-list',arrs)\r\n          }\r\n        })\r\n      },\r\n      remove(arr, hash){\r\n        this.recursion(arr, hash, (arrs, j) => {\r\n          this.$store.state.moveItem = arrs[j]\r\n          arrs.splice(j, 1);\r\n        })\r\n      },\r\n      add(arr, hash){\r\n        this.recursion(arr, hash, (arrs, j) => {\r\n          if (this.$store.state.activeDirection === 'top') {\r\n            arrs.splice(j, 0, this.$store.state.moveItem);\r\n          } else {\r\n            arrs.splice(j + 1, 0, this.$store.state.moveItem);\r\n          }\r\n\r\n        })\r\n      },\r\n      recursion(arrs, h, fn){\r\n        for (let j = 0; j < arrs.length; j++) {\r\n          if (Number(arrs[j].hash) === Number(h)) {\r\n            fn(arrs, j)\r\n            return false\r\n          } else {\r\n            if (arrs[j].children && arrs[j].children.length > 0) {\r\n              this.recursion(arrs[j].children, h, fn)\r\n            }\r\n          }\r\n        }\r\n      },\r\n    },\r\n    watch: {\r\n      '$store.state.deleteHash': {\r\n        handler (val) {\r\n          this.hasSelect = false\r\n          this.recursion(this.craftLineCopy, val, (arrs, j) => {\r\n            arrs.splice(j, 1);\r\n          })\r\n          this.recursion(this.craftLineCopy, this.$store.state.selectHash, (arrs, j) => {\r\n            this.hasSelect = true\r\n          })\r\n          if (!this.hasSelect) {\r\n            this.$store.state.selectHash = this.craftLineCopy[0].hash\r\n          }\r\n        },\r\n      },\r\n      '$store.state.selectHash':function(val){\r\n        this.recursion(this.craftLineCopy,val,(arrs, j)=>{\r\n          if(arrs[j].procedureType == 'process'){\r\n            this.$emit('get-list',arrs)\r\n          }\r\n        })\r\n      },\r\n      'craftLineCopy':function(val){\r\n        this.$emit('line',val)\r\n      },\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  @import '../assets/css/mixin';\r\n  .flex-center{\r\n    justify-content: center;\r\n  }\r\n  .craft-info {\r\n    user-select: none;\r\n    margin-top: 50px;\r\n    .item {\r\n      display: flex;\r\n\r\n      .item-info {\r\n        width: 122px;\r\n        margin: 0 7px;\r\n        position: relative;\r\n        border-radius: 4px;\r\n        margin-bottom: 15px;\r\n        cursor: pointer;\r\n        min-height: 54px;\r\n        .j-delete {\r\n          @include ct();\r\n          left: 5px;\r\n          z-index: 20;\r\n        }\r\n        &.process {\r\n          background-color: #FFB84D;\r\n          border: 1px dashed #333;\r\n        }\r\n        &.semi {\r\n          background-color: #41D6FB;\r\n        }\r\n        &.flow {\r\n          background-color: #4584FF;\r\n        }\r\n        &.border {\r\n          border: 1px solid red;\r\n        }\r\n        &.top, &.bottom {\r\n          &:after {\r\n            position: absolute;\r\n            content: '';\r\n            width: 100%;\r\n            box-sizing: border-box;\r\n            border: 1px dashed #999;\r\n            background-color: #ccc;\r\n            height: 10px;\r\n            border-radius: 4px;\r\n          }\r\n        }\r\n        &.top:after {\r\n          top: -12.5px;\r\n        }\r\n        &.bottom:after {\r\n          bottom: -12.5px;\r\n        }\r\n        &.disabled {\r\n          opacity: .3;\r\n          &:after {\r\n            display: none;\r\n          }\r\n        }\r\n        .info {\r\n          color: #333;\r\n          text-align: center;\r\n          font-size: 16px;\r\n          @include center();\r\n          width: 100%;\r\n        }\r\n      }\r\n      .isShow {\r\n        display: none;\r\n        overflow: hidden;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/craft.vue","<template>\r\n  <div id=\"app\">\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'app'\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"assets/css/reset.scss\";\r\n@import \"assets/fonts/font-awesome.min.css\";\r\n@import \"assets/fonts/iconfont.css\";\r\n@import \"assets/css/mixin.scss\";\r\n@import \"assets/css/main.scss\";\r\n\r\nbody{\r\n\twidth:100%;\r\n\theight:100%;\r\n  font-size: 14px;\r\n\r\n}\r\n#app {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  color: #2c3e50;\r\n  background:rgba(240,243,246,1);\r\n\r\n}\r\n.el-badge__content{\r\n\r\n}\r\n.header-right {\r\n  li {\r\n    padding: 21px 20px;\r\n    position: relative;\r\n    cursor: pointer;\r\n    &:after {\r\n      content: '';\r\n      @include ct();\r\n      right: 0;\r\n      height: 15px;\r\n      margin-top: 1px;\r\n      width: 1px;\r\n      background-color: #676e89;\r\n    }\r\n    &.last:after {\r\n      display: none;\r\n    }\r\n    i {\r\n      font-size: 16px;\r\n      margin-right: 6px;\r\n      display: inline-block;\r\n      vertical-align: middle;\r\n      cursor: pointer;\r\n      color: #a2aed8;\r\n    }\r\n    span {\r\n      font-style: normal;\r\n      font-size: 13px;\r\n      color: #fff;\r\n      display: inline-block;\r\n      vertical-align: middle;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .active {\r\n    color: #12BBF0;\r\n    span {\r\n      color: #12BBF0;\r\n    }\r\n  }\r\n  li:last-child {\r\n    border: 0;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import store from '../story/'\r\n\r\n/**\r\n * 存储localSession\r\n */\r\nexport const setSession = (name, content) => {\r\n  if (!name) return;\r\n  if (typeof content !== 'string') {\r\n    content = JSON.stringify(content);\r\n  }\r\n  window.sessionStorage.setItem(name, content);\r\n}\r\n\r\n/**\r\n * 获取localSession\r\n */\r\nexport const getSession = name => {\r\n  if (!name) return;\r\n  return window.sessionStorage.getItem(name);\r\n}\r\n/**\r\n * 存储localStorage\r\n */\r\nexport const setStore = (name, content) => {\r\n  if (!name) return;\r\n  if (typeof content !== 'string') {\r\n    content = JSON.stringify(content);\r\n  }\r\n  window.localStorage.setItem(name, content);\r\n}\r\n\r\n/**\r\n * 获取localStorage\r\n */\r\nexport const getStore = name => {\r\n  if (!name) return;\r\n  return window.localStorage.getItem(name);\r\n}\r\n\r\n/**\r\n * 删除localStorage\r\n */\r\nexport const removeStore = name => {\r\n  if (!name) return;\r\n  window.localStorage.removeItem(name);\r\n}\r\n/**\r\n * 获取地址栏参数\r\n */\r\nexport const getQueryString = (name) => {\r\n  var pam = window.location.href.split('?')[1] || ''\r\n  var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n  var r = pam.match(reg);\r\n  if (r != null) return decodeURI(r[2]);\r\n  return null;\r\n}\r\n\r\n/**\r\n * 补0\r\n */\r\nexport const islength = (num) => {\r\n  if (Number(num) < 10) {\r\n    return '0' + num\r\n  } else {\r\n    return num\r\n  }\r\n}\r\n\r\n/**\r\n * 表单校验\r\n */\r\nexport const rule = {\r\n  alert: function (mess) {\r\n    store.state.alertMessage = mess\r\n    store.state.showAlert = true\r\n  },\r\n  empty: function (str, mess) {//不能为空\r\n    if (str == '') {\r\n      this.alert(mess)\r\n      return false\r\n    } else {\r\n      return true\r\n    }\r\n  },\r\n  phone: function (str) {//手机号校验\r\n    var myReg = /^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$/;\r\n    if (!myReg.test(str)) {\r\n      this.alert('手机号码有误')\r\n      return false\r\n    } else {\r\n      return true\r\n    }\r\n  }\r\n}\r\n\r\nexport const phoneRule =/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$/;\r\nexport const phoneRule2 = /(^(\\d{3,4}-)?\\d{7,8})$|(^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$)/;\r\nexport const chinese = /^[\\u4E00-\\u9FA5]+$/;\r\nexport const number = /(^[1-9]([0-9]+)$)|(^[1-9]?$)/;\r\nexport const number0 = /(^[1-9]([0-9]+)$)|(^(0){1}$)|(^[1-9]?$)/;\r\nexport const price = /(^[1-9]([0-9]+)?(\\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\\.[0-9]([0-9])?$)/;\r\nexport const areaRule = /(^[1-9]([0-9]+)?(\\.[0-9]{1,2})?$)|(^[0-9]\\.[0-9]([0-9])?$)/;\r\n// export const email = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\r\nexport const email = /^((([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})[; ,])*(([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})))$/;\r\nexport const bankCode = /^([1-9]{1})(\\d{14}|\\d{18})$/;\r\nexport const http = /(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&:\\/~\\+#][^\\u4E00-\\u9FA5]*[\\w\\-\\@?^=%&\\/~\\+#][^\\u4E00-\\u9FA5])?/;\r\n// export const http = /[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&:/~\\+#]*[\\w\\-\\@?^=%&/~\\+#])?$/;\r\nexport const numberCode = /^(\\w)+$/;\r\nexport const noChinese = /[^\\u4E00-\\u9FA5]+$/g;\r\nexport const contractCode = /^[\\w\\-_]+$/;\r\nexport const overscroll = els => {\r\n  for (var i = 0; i < els.length; ++i) {\r\n    var el = els[i];\r\n    el.addEventListener('touchstart', function () {\r\n      var top = this.scrollTop\r\n        , totalScroll = this.scrollHeight\r\n        , currentScroll = top + this.offsetHeight;\r\n      if (top === 0) {\r\n        this.scrollTop = 1;\r\n      } else if (currentScroll === totalScroll) {\r\n        this.scrollTop = top - 1;\r\n      }\r\n    });\r\n    el.addEventListener('touchmove', function (evt) {\r\n      if (this.offsetHeight < this.scrollHeight)\r\n        evt._isScroller = true;\r\n    });\r\n  }\r\n};//禁止body的滚动事件\r\ndocument.body.addEventListener('touchmove', function (evt) {\r\n  if (!evt._isScroller) {\r\n    evt.preventDefault();\r\n  }\r\n});//给class为.scroll的元素加上自定义的滚动事件\r\n//overscroll(document.querySelectorAll('.scroll'));\r\n\r\n\r\n//删除数组指定的某个元素\r\nArray.prototype.remove = function (val) {\r\n  var index = this.indexOf(val);\r\n  if (index > -1) {\r\n    this.splice(index, 1);\r\n  }\r\n};\r\n\r\n//数组去重\r\nexport const unique = (arr) => {\r\n  return arr.filter((element, index, self) => {\r\n    return self.indexOf(element) === index\r\n  })\r\n}\r\n\r\n\r\nDate.prototype.format = function (format) {\r\n  var o = {\r\n    \"M+\": this.getMonth() + 1,  //month\r\n    \"d+\": this.getDate(),     //day\r\n    \"h+\": this.getHours(),    //hour\r\n    \"m+\": this.getMinutes(),  //minute\r\n    \"s+\": this.getSeconds(), //second\r\n    \"q+\": Math.floor((this.getMonth() + 3) / 3),  //quarter\r\n    \"S\": this.getMilliseconds() //millisecond\r\n  }\r\n  var week = [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"];\r\n  if (/(y+)/.test(format)) {\r\n    format = format.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n  }\r\n  if (/(w+)/.test(format)) {\r\n    format = format.replace(RegExp.$1, week[this.getDay()]);\r\n  }\r\n  for (var k in o) {\r\n    if (new RegExp(\"(\" + k + \")\").test(format)) {\r\n      format = format.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\r\n    }\r\n  }\r\n  return format;\r\n}\r\n\r\nDate.prototype.add = function (part, value) {\r\n  value *= 1;\r\n  if (isNaN(value)) {\r\n    value = 0;\r\n  }\r\n  switch (part) {\r\n    case \"y\":\r\n      this.setFullYear(this.getFullYear() + value);\r\n      break;\r\n    case \"m\":\r\n      this.setMonth(this.getMonth() + value);\r\n      break;\r\n    case \"d\":\r\n      this.setDate(this.getDate() + value);\r\n      break;\r\n    case \"h\":\r\n      this.setHours(this.getHours() + value);\r\n      break;\r\n    case \"n\":\r\n      this.setMinutes(this.getMinutes() + value);\r\n      break;\r\n    case \"s\":\r\n      this.setSeconds(this.getSeconds() + value);\r\n      break;\r\n    default:\r\n\r\n  }\r\n  return this\r\n}\r\n\r\n//alert(new Date().add(\"m\", -1).format('yyyy-MM-dd hh:mm:ss'));\r\n\r\n/**\r\n * 显示返回顶部按钮，开始、结束、运动 三个过程中调用函数判断是否达到目标点\r\n */\r\nexport const showBack = (el, callback) => {\r\n  let requestFram;\r\n  let oldScrollTop;\r\n\r\n  document.addEventListener('scroll', () => {\r\n    showBackFun();\r\n  }, false)\r\n  document.addEventListener('touchstart', () => {\r\n    showBackFun();\r\n  }, {passive: true})\r\n\r\n  document.addEventListener('touchmove', () => {\r\n    showBackFun();\r\n  }, {passive: true})\r\n\r\n  document.addEventListener('touchend', () => {\r\n    oldScrollTop = el.getPosition().top;\r\n    moveEnd();\r\n  }, {passive: true})\r\n\r\n  const moveEnd = () => {\r\n    requestFram = requestAnimationFrame(() => {\r\n      if (el.getPosition().top != oldScrollTop) {\r\n        oldScrollTop = el.getPosition().top;\r\n        moveEnd();\r\n      } else {\r\n        cancelAnimationFrame(requestFram);\r\n      }\r\n      showBackFun();\r\n    })\r\n  }\r\n\r\n  //判断是否达到目标点\r\n  const showBackFun = () => {\r\n    if (el.getPosition().top > 500) {\r\n      callback(true);\r\n    } else {\r\n      callback(false);\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const toast = (msg = '', time = 1500) => {\r\n  var toast = document.createElement('div')\r\n  toast.className = 'common-toast common-toast-show'\r\n  toast.innerHTML = msg\r\n  document.body.appendChild(toast)\r\n  toast.style.display = 'block'\r\n  toast.style.margin = `-${toast.offsetHeight / 2}px 0 0 -${toast.offsetWidth / 2}px`\r\n  var timer = setTimeout(() => {\r\n    toast.className = 'common-toast common-toast-hide'\r\n    clearTimeout(timer)\r\n    var timer2 = setTimeout(() => {\r\n      document.body.removeChild(toast)\r\n      clearTimeout(timer2)\r\n    }, 200)\r\n  }, time)\r\n}\r\n\r\n\r\nconst digitsRE = /(\\d{3})(?=\\d)/g\r\n\r\nexport function currency(value, currency, decimals) {\r\n  value = parseFloat(value)\r\n  if (!isFinite(value) || (!value && value !== 0)) return ''\r\n  currency = currency != null ? currency : '$'\r\n  decimals = decimals != null ? decimals : 2\r\n  var stringified = Math.abs(value).toFixed(decimals)\r\n  var _int = decimals\r\n    ? stringified.slice(0, -1 - decimals)\r\n    : stringified\r\n  var i = _int.length % 3\r\n  var head = i > 0\r\n    ? (_int.slice(0, i) + (_int.length > 3 ? ',' : ''))\r\n    : ''\r\n  var _float = decimals\r\n    ? stringified.slice(-1 - decimals)\r\n    : ''\r\n  var sign = value < 0 ? '-' : ''\r\n  return sign + currency + head +\r\n    _int.slice(i).replace(digitsRE, '$1,') +\r\n    _float\r\n}\r\n\r\n\r\n/**\r\n * 检查是否为Emoji\r\n */\r\nexport const isEmoji = name => {\r\n  if (escape(name).toLocaleLowerCase().match(/(\\%\\ue[0-9a-f]{3})|(\\%\\ud[0-9a-f]{3})/)) {\r\n    return true\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\n\r\nconst resizeMe = (img, maxW, maxH, nocheck) => {\r\n\r\n  const browser = {\r\n    versions: function () {\r\n      var u = navigator.userAgent;\r\n      return {\r\n        trident: u.indexOf('Trident') > -1, //IE内核\r\n        presto: u.indexOf('Presto') > -1, //opera内核\r\n        webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核\r\n        gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1,//火狐内核\r\n        mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端\r\n        ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端\r\n        android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器\r\n        iPhone: u.indexOf('iPhone') > -1, //是否为iPhone或者QQHD浏览器\r\n        iPad: u.indexOf('iPad') > -1, //是否iPad\r\n        webApp: u.indexOf('Safari') == -1, //是否web应该程序，没有头部与底部\r\n        weixin: u.toLowerCase().match(/MicroMessenger/i) == 'micromessenger', //是否微信\r\n        qq: u.match(/\\sQQ/i) == \" qq\" //是否QQ\r\n      };\r\n    }()\r\n  };\r\n\r\n  var canvas = document.createElement('canvas');\r\n  var width = img.width;\r\n  var height = img.height;\r\n  var max_width = maxW || 640;\r\n  var max_height = maxH || 640;\r\n  var max_size = 300;//k\r\n  if (width > max_width) {\r\n    height *= max_width / width;\r\n    height = Math.round(height);\r\n    width = max_width;\r\n  }\r\n  if (height > max_height) {\r\n    width *= max_height / height;\r\n    width = Math.round(width);\r\n    height = max_height;\r\n  }\r\n  //将图片放入canvas，并重置canvas大小\r\n  if (browser.versions.ios || browser.versions.webApp) {\r\n    var mpImg = new MegaPixImage(img);\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n    mpImg.render(canvas, {width: width, height: height});\r\n  } else {\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n    var ctx = canvas.getContext(\"2d\");\r\n    ctx.drawImage(img, 0, 0, width, height);\r\n  }\r\n  var res, quality = .7, resSize, ratio = 1;\r\n\r\n  res = canvas.toDataURL(\"image/jpeg\", quality); // 截取canvas对应的jpg图片，并且画质为70%（默认就是70%，可以改变）\r\n\r\n  // Android 2.x、Android 4.1.2、4.3 的 toDataURL 不支持jpeg格式；\r\n  if (res.substr(0, \"data:image/png\".length) == \"data:image/png\" || res.substr(0, 6) == \"data:,\") {\r\n    var encoder = new JPEGEncoder();\r\n    res = encoder.encode(canvas.getContext(\"2d\").getImageData(0, 0, width, height), quality * 100, true);\r\n  }\r\n  resSize = Math.ceil(res.length / 1024); //k\r\n\r\n  if (resSize > max_size && !nocheck) {\r\n    ratio = Math.ceil(Math.sqrt(max_size / resSize) * 100) / 100;\r\n    if (ratio >= .9) {\r\n      ratio -= .1;\r\n    }\r\n\r\n    res = resizeMe(img, max_width * ratio, max_height * ratio, true);\r\n  }\r\n  return res;\r\n}\r\n\r\nconst resizeMe2 = (img) => {\r\n  var canvas = document.createElement('canvas');\r\n  var ress = resizeMe(img);\r\n  var imgs = new Image();\r\n  imgs.src = ress\r\n\r\n  var prom = new Promise(function (resolve, reject) {\r\n    imgs.onload = function () {\r\n      var height = imgs.height\r\n      var width = imgs.width\r\n      var widthheight = height >= width ? width : height;\r\n      canvas.width = widthheight;\r\n      canvas.height = widthheight;\r\n      var ctx = canvas.getContext(\"2d\");\r\n      ctx.drawImage(imgs, (width - widthheight) / 2, (height - widthheight) / 2, widthheight, widthheight, 0, 0, widthheight, widthheight);\r\n      var res = canvas.toDataURL(\"image/jpeg\", 1); // 截取canvas对应的jpg图片，并且画质为70%（默认就是70%，可以改变）\r\n      // Android 2.x、Android 4.1.2、4.3 的 toDataURL 不支持jpeg格式；\r\n      if (res.substr(0, \"data:image/png\".length) == \"data:image/png\" || res.substr(0, 6) == \"data:,\") {\r\n        var encoder = new JPEGEncoder();\r\n        res = encoder.encode(canvas.getContext(\"2d\").getImageData(0, 0, widthheight, widthheight), 100, true);\r\n      }\r\n      resolve(res);\r\n    }\r\n  });\r\n\r\n  return prom\r\n};\r\n\r\n/**将选中的图片转化成base64\r\n * @param files\r\n */\r\nexport const imgFile = (files) => {\r\n  return new Promise((res, err) => {\r\n    var image = new Image();\r\n    var _this = this;\r\n    var leng = files.length;\r\n    for (var i = 0; i < leng; i++) {\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(files[i]);\r\n      reader.onload = function (e) {\r\n        var image = new Image();\r\n        image.src = this.result;\r\n        image.onload = function () {\r\n          var resized = resizeMe(image);\r\n          if (!resized) {\r\n            err('图片加载出错，请选择其他图片！');\r\n            return;\r\n          }\r\n          else {\r\n            res(resized);\r\n          }\r\n        }\r\n      };\r\n    }\r\n  })\r\n};\r\n\r\n/**\r\n * 选择图片\r\n */\r\nexport const selectImgFile = (e, message, type) => {\r\n  var files = e.target.files || e.dataTransfer.files;\r\n  console.log(files);\r\n  type = type || ['image/png', 'image/jpeg', 'image/gif', 'application/pdf'];\r\n  // list = list || 0;\r\n  var ok = [];\r\n  if (type instanceof Array) {\r\n    type.forEach(item => {\r\n      ok.push(files[0].type === item ? 1 : 0);\r\n    })\r\n  } else {\r\n    ok.push(files[0].type === type ? 1 : 0)\r\n  }\r\n  if (!files.length) return;\r\n  if (ok.indexOf(0) === -1) {\r\n    message({\r\n      type: 'error',\r\n      message: '图片类型选择错误！'\r\n    });\r\n    return\r\n  }\r\n  if (files[0].size >= 20 * 1024 * 1024) {\r\n    message({\r\n      type: 'error',\r\n      message: '选择图片最大为20M'\r\n    });\r\n    return\r\n  }\r\n  if (typeof FileReader === 'undefined') {\r\n    //globel.toast('不支持图片上传');\r\n    return false;\r\n  }\r\n  return imgFile(files)\r\n};\r\n\r\nexport const empty = (val) => {\r\n  switch (val) {\r\n    case null:\r\n    case undefined:\r\n    case '':\r\n      return '-';\r\n    default:\r\n      return val;\r\n  }\r\n}\r\nexport const date = (val) => {\r\n  switch (val) {\r\n    case null:\r\n    case undefined:\r\n    case '':\r\n      return '-';\r\n    default:\r\n      return new Date(val).format('yyyy-MM-dd hh:mm:ss')\r\n  }\r\n}\r\n\r\nexport const getFilters = (arr, val) => {\r\n  arr = arr || [];\r\n  var message = '';\r\n  arr.forEach((item) => {\r\n    if (item.value === val) {\r\n      message = item.label;\r\n      return\r\n    }\r\n  });\r\n  return message\r\n};\r\n/**\r\n * 选择文件\r\n */\r\nexport const selectOtherFile = (e, message, type) => {\r\n  var files = e.target.files || e.dataTransfer.files;\r\n  var ok = [];\r\n  if (type) {\r\n    if (type instanceof Array) {\r\n      type.forEach(item => {\r\n        ok.push(files[0].type === item ? 1 : 0);\r\n      })\r\n    } else {\r\n      ok.push(files[0].type === type ? 1 : 0)\r\n    }\r\n  } else {\r\n    ok.push(0)\r\n  }\r\n  console.log(files);\r\n  if (!files.length) return;\r\n  if (ok.indexOf(0) === -1) {\r\n    message({\r\n      type: 'error',\r\n      message: '文件类型选择错误！'\r\n    });\r\n    return\r\n  }\r\n  if (files[0].size >= 20 * 1024 * 1024) {\r\n    message({\r\n      type: 'error',\r\n      message: '选择文件最大为20M'\r\n    });\r\n    return\r\n  }\r\n  if (typeof FileReader === 'undefined') {\r\n    //globel.toast('不支持图片上传');\r\n    return false;\r\n  }\r\n  return files;\r\n};\r\nexport const throttle = (func, delay) => { //函数节流\r\n  var timer = null;\r\n  var startTime = Date.now();\r\n  return () => {\r\n    var curTime = Date.now();\r\n    var remaining = delay - (curTime - startTime);\r\n    var context = this;\r\n    var args = arguments;\r\n    clearTimeout(timer);\r\n    if (remaining <= 0) {\r\n      func.apply(context, args);\r\n      startTime = Date.now();\r\n    } else {\r\n      timer = setTimeout(func, remaining);\r\n    }\r\n  }\r\n};\r\nexport const del = (arr, index, type) => {\r\n  arr.splice(index, 1);\r\n  if (type) {\r\n    let file = document.getElementById(type);\r\n    file.value = ''; //虽然file的value不能设为有字符的值，但是可以设置为空值\r\n  }\r\n};\r\n/**\r\n *获取级联选择器的选项\r\n * @param val\r\n * @param opt\r\n * @param config\r\n * @returns {*}\r\n */\r\nexport const getCascaderObj = (val, opt, config) => {\r\n  var value = config || 'value';\r\n  return val.map(function (value, index, array) {\r\n    for (var itm of opt) {\r\n      if (itm[value] == val) {\r\n        opt = itm.children;\r\n        return itm;\r\n      }\r\n    }\r\n    return null;\r\n  });\r\n};\r\n/**\r\n *获取选择器的选项\r\n * @param val\r\n * @param opt\r\n * @returns {string}\r\n */\r\nexport const deepClone = (val, opt) => {\r\n  var arr = '', item;\r\n  if (val.constructor == Array) {\r\n    val.map((value, index, array) => {\r\n      item = opt.filter(item => item.value === value)[0];\r\n      return item ? arr = item : '';\r\n    });\r\n  } else {\r\n    item = opt.filter(item => item.value === val)[0];\r\n    return item ? arr = item : '';\r\n  }\r\n  return arr;\r\n};\r\nexport const getType = (obj) => {\r\n  //tostring会返回对应不同的标签的构造函数\r\n  var toString = Object.prototype.toString;\r\n  var map = {\r\n    '[object Boolean]': 'boolean',\r\n    '[object Number]': 'number',\r\n    '[object String]': 'string',\r\n    '[object Function]': 'function',\r\n    '[object Array]': 'array',\r\n    '[object Date]': 'date',\r\n    '[object RegExp]': 'regExp',\r\n    '[object Undefined]': 'undefined',\r\n    '[object Null]': 'null',\r\n    '[object Object]': 'object'\r\n  };\r\n  if (obj instanceof Element) {\r\n    return 'element';\r\n  }\r\n  return map[toString.call(obj)];\r\n};\r\nexport const deepCopy = (o) => {\r\n  if (o instanceof Array) {\r\n    var n = [];\r\n    for (var i = 0; i < o.length; ++i) {\r\n      n[i] = deepCopy(o[i]);\r\n    }\r\n    return n;\r\n  } else if (o instanceof Function) {\r\n    var n = new Function(\"return \" + o.toString())();\r\n    return n\r\n  } else if (o instanceof Object) {\r\n    var n = {}\r\n    for (var i in o) {\r\n      n[i] = deepCopy(o[i]);\r\n    }\r\n    return n;\r\n  } else {\r\n    return o;\r\n  }\r\n};\r\nexport const getState = (val) => {\r\n  switch (val) {\r\n    case 0:\r\n      return '待招商';\r\n    case 1:\r\n      return '已招商';\r\n    case 2:\r\n      return '已锁定';\r\n\r\n  }\r\n};\r\n\r\nexport const getChartType = (val) => {\r\n  switch (val) {\r\n    case 0:\r\n      return '商务';\r\n    case 1:\r\n      return '办公';\r\n    case 2:\r\n      return '工位';\r\n  }\r\n};\r\n\r\n/**\r\n *重置文件选择\r\n * @param id\r\n */\r\nexport const removeFile = (id) => {\r\n  var fileObj = document.getElementById(id);\r\n  if (fileObj) {\r\n    fileObj.value = '';\r\n  }\r\n};\r\n\r\nexport const ridFirstAndEnd = (arr) => {\r\n  var str = '';\r\n  arr.forEach((item, index) => {\r\n    if (index == 0) {\r\n      str += item\r\n    } else {\r\n      str += ',' + item\r\n    }\r\n  });\r\n  return str;\r\n};\r\n/**\r\n * 拼接两个数组\r\n * @param arr1\r\n * @param arr2\r\n * @returns {*}\r\n */\r\nexport const arrConcat = (arr1, arr2) => {\r\n  if (!arr2 || getType(arr2) != 'array') {\r\n    return [3];\r\n  }\r\n  if (!arr1 || getType(arr1) != 'array') {\r\n    arr2.push(3);\r\n    return arr2;\r\n  }\r\n  arr1.forEach((item) => {\r\n    arr2.push(item)\r\n  });\r\n  return arr2;\r\n};\r\n\r\nexport\r\n{\r\n  resizeMe, resizeMe2\r\n}\r\n\r\n/**\r\n * elementUI 表单重置方法\r\n * @param obj\r\n * @param type\r\n */\r\nexport const resetForm = (obj, type) => {\r\n  if (obj) {\r\n    if (type == 2) {\r\n      obj.map((item, index) => {\r\n        item.resetFields();\r\n      })\r\n    } else {\r\n      obj.resetFields();\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * 获取表单数据\r\n * @param o\r\n * @param j\r\n * @returns {FormData}\r\n */\r\nexport const getFormData = (o, j) => {\r\n  let formData = new FormData();\r\n  for (let i in o) {\r\n    if (o[i] !== null && o[i] !== undefined) {\r\n      if (getType(o[i]) === 'array') {\r\n        // formData.append(i, o[i]);\r\n        o[i].forEach((item) => {\r\n          formData.append(i, item);\r\n        })\r\n      } else {\r\n        formData.append(i, o[i]);\r\n      }\r\n    } else {\r\n      formData.append(i, '');\r\n    }\r\n  }\r\n  return formData;\r\n};\r\n\r\nexport const toDatetime = (time) => {\r\n  return time ? new Date(time).format('yyyy-MM-dd 00:00:00') : ''\r\n};\r\nexport const toDate = (time) => {\r\n  return time ? new Date(time).format('yyyy-MM-dd') : ''\r\n};\r\n\r\nexport const toDateTime = (time) => {\r\n  return time ? new Date(time).format('yyyy-MM-dd hh:mm:ss') : ''\r\n};\r\n\r\n/**\r\n * elementUI 验证表单方法\r\n * @param obj\r\n * @param type\r\n * @returns {*}\r\n */\r\nexport const checkForm = (obj, type) => {\r\n  let ok;\r\n  if (obj) {\r\n    if (type === 2) {\r\n      ok = [];\r\n      obj.map((item, index) => {\r\n        item.validate((valid) => {\r\n          if (valid) {\r\n            ok.push(1);\r\n          } else {\r\n            ok.push(2);\r\n          }\r\n        });\r\n      })\r\n    } else {\r\n      obj.validate((valid) => {\r\n        if (valid) {\r\n          ok = 1;\r\n        } else {\r\n          ok = 2;\r\n        }\r\n      });\r\n    }\r\n  } else {\r\n    ok = 3;\r\n  }\r\n  return ok\r\n};\r\n\r\n/**\r\n *用JSON.parse()转译字符串的判断\r\n * @param str\r\n * @returns {*}\r\n */\r\nexport const strParse = (str) => {\r\n  switch (str) {\r\n    case undefined:\r\n    case 'undefined':\r\n      return undefined;\r\n    case null:\r\n    case  'null':\r\n      return null;\r\n    case '':\r\n      return '';\r\n    default:\r\n      try {\r\n        return str ? JSON.parse(str) : '';\r\n      } catch (err) {\r\n        return '';\r\n      }\r\n  }\r\n};\r\n\r\n/**\r\n * 获得时间间隔\r\n */\r\nexport const getTime =(stTime,edTime) =>{\r\n /* console.log(new Date(stTime), 1)*/\r\n  const stTimeMillisecond = new Date(stTime).getTime()\r\n  const edTimeMillisecond = new Date(edTime).getTime()\r\n  //对不规则的开始时间进行整理\r\n /* if (getTimeSecond(stTime,2) <= stTimeMillisecond && getTimeSecond(stTime,3) >= stTimeMillisecond) {\r\n    stTime = getTimeSecond(stTime,3);\r\n  }\r\n  if (getTimeSecond(stTime,1) >= stTimeMillisecond) {\r\n    stTime = getTimeSecond(stTime,1);\r\n  }\r\n  if (getTimeSecond(stTime,4) <= stTimeMillisecond) {\r\n    stTime = getTimeSecond(stTime,5);\r\n  }\r\n  console.log(new Date(stTime), 2)\r\n  //对不规则的结束时间进行整理\r\n  if (getTimeSecond(edTime,2) <= edTimeMillisecond && getTimeSecond(edTime,3) >= edTimeMillisecond) {\r\n    edTime = getTimeSecond(edTime,2);\r\n  }\r\n  if (getTimeSecond(edTime,1) >= edTimeMillisecond) {\r\n    edTime = getTimeSecond(edTime,9);\r\n  }\r\n  if (getTimeSecond(edTime,4) <= edTimeMillisecond) {\r\n    edTime = getTimeSecond(edTime,4);\r\n  }\r\n*/\r\n\r\n  const startTime = new Date(stTime);\r\n  const endTime = new Date(edTime);\r\n  const oneDayTime = 8*60*60*1000;\r\n  const dayEnd = 16*3600000 + 30*60000;\r\n  let reduceTime = 0;//应减去的时间\r\n  if (startTime.getHours()>=8) {//开始时间大于8点\r\n    if (startTime.getHours()<12) {\r\n      reduceTime += ((startTime.getHours()-8)*3600000 + startTime.getMinutes()*60000)\r\n    }else if (startTime.getHours()===12&&startTime.getMinutes()<30) {//开始时间在12:00 - 12:30\r\n      reduceTime += 4*3600000;\r\n    } else if ((startTime.getHours()===16&&startTime.getMinutes()>=30)||startTime.getHours()>16){\r\n      reduceTime += 8*3600000;\r\n    } else {\r\n      reduceTime += (4*3600000 + startTime.getHours()*3600000 + startTime.getMinutes()*60000 - 12*3600000 - 30*60000);\r\n    }\r\n  }\r\n  if (endTime.getHours()*3600000+endTime.getMinutes()*60000 - dayEnd < 0){\r\n    reduceTime +=  dayEnd - endTime.getHours()*3600000 - endTime.getMinutes()*60000;\r\n    if (endTime.getHours() === 12 && endTime.getMinutes()<30) {//结束时间在12:00 - 12:30\r\n      reduceTime -= (12*3600000 + 30*60000 - endTime.getHours()*3600000 - endTime.getMinutes()*60000);\r\n    } else if (endTime.getHours() < 12) {\r\n      reduceTime -= 30*60000;\r\n      if (endTime.getHours() < 8) {\r\n        reduceTime -= 8*3600000;\r\n      }\r\n    }\r\n  }\r\n  const allDay = (new Date(`${endTime.getFullYear()}-${endTime.getMonth()+1}-${endTime.getDate()} 24:00:00`) - new Date(`${startTime.getFullYear()}-${startTime.getMonth()+1}-${startTime.getDate()} 00:00:00`))/(24*3600000);//相差总天数\r\n  return oneDayTime*allDay - reduceTime;\r\n}\r\n\r\n/**\r\n * 获得结束时间\r\n * yyp\r\n */\r\nexport const getEndtime =(startTime,time) =>{\r\n  const start = new Date(startTime);\r\n  const day = Math.floor(time / (8*3600));//经过多少天\r\n  const remainingTime = time % (8*3600);//减去天数后剩余多少秒\r\n  let endTime = start.setDate(start.getDate()+day);//开始时间加上经过多少天\r\n  if (new Date(endTime).getHours() < 8) {//小于八点\r\n    endTime = new Date(endTime).setHours(8,0,0,0);\r\n  } else if ((new Date(endTime).getHours() === 16&&new Date(endTime).getMinutes() >= 30)||new Date(endTime).getHours()>16) {//大于16:30\r\n    endTime = new Date(endTime).add('d',1);\r\n    endTime = new Date(endTime).setHours(8,0,0,0);\r\n  } else if (new Date(endTime).getHours() === 12&&new Date(endTime).getMinutes() <= 30) {\r\n    endTime = new Date(endTime).setHours(12,30,0,0);\r\n    endTime -= 30*60000;\r\n  }\r\n  endTime += remainingTime*1000;\r\n  if ((new Date(endTime).getHours() === 12&&new Date(endTime).getMinutes() >= 30)||new Date(endTime).getHours()>=13) {\r\n    if (start.getHours()<=12) {\r\n      endTime += 30*60000;\r\n    }\r\n  }\r\n  if ((new Date(endTime).getHours() === 16&&new Date(endTime).getMinutes() >= 30)||new Date(endTime).getHours()>16) {\r\n    let hour = new Date(endTime).getHours();\r\n    let minute = new Date(endTime).getMinutes();\r\n    endTime = new Date(endTime).setDate(new Date(endTime).getDate()+1);\r\n    endTime = new Date(endTime).setHours(8,0,0,0);\r\n    endTime += (hour - 16)*3600000;\r\n    endTime += (minute-30)*60000;\r\n  }\r\n  if(new Date(endTime).getHours() < 8){\r\n    endTime = new Date(endTime).setDate(new Date(endTime).getDate()-1);\r\n    endTime = new Date(endTime).setHours(16,30,0,0);\r\n  }\r\n  return new Date(endTime).format('yyyy-MM-dd hh:mm:ss')\r\n}\r\n\r\n\r\n/**\r\n * 判断当前元素与上一个元素是否相同\r\n *\r\n */\r\nexport const getSpanArr =(data,val) =>{\r\n  let spanArr = [];\r\n  let pos = 0;\r\n  for (var i = 0; i < data.length; i++) {\r\n    if (i === 0) {\r\n      spanArr.push(1);\r\n      pos = 0\r\n    } else {\r\n      // 判断当前元素与上一个元素是否相同\r\n      if (data[i][val] === data[i - 1][val]) {\r\n        spanArr[pos] += 1;\r\n        spanArr.push(0);\r\n      } else {\r\n        spanArr.push(1);\r\n        pos = i;\r\n      }\r\n    }\r\n  }\r\n  return spanArr\r\n}\r\n\r\n/**\r\n * 把第startIndex位置的放到endIndex位置\r\n *\r\n */\r\nexport const updatePeople =(arr,start,end,position) =>{\r\n  start = Number(start)\r\n  end = Number(end)\r\n  let a;\r\n  if (start < end) {\r\n    if (position == 'left') {\r\n      a = end - 1\r\n    } else {\r\n      a = end + 1\r\n    }\r\n  } else {\r\n    if (position == 'left') {\r\n      a = end\r\n    } else {\r\n      a = end + 1\r\n    }\r\n  }\r\n  let startIndex = start\r\n  let endIndex = a\r\n  if (start > end) {/*往左*/\r\n    const temp = startIndex\r\n    startIndex = endIndex\r\n    endIndex = temp\r\n    const frontArr = arr.slice(0,startIndex);\r\n    const secondArr = arr.slice(startIndex,endIndex);\r\n    const endArr = arr.slice(endIndex+1)\r\n    let moveItem = JSON.parse(JSON.stringify(arr[endIndex]));\r\n    let endItem = position == 'left' ? JSON.parse(JSON.stringify(arr[startIndex])) : JSON.parse(JSON.stringify(arr[startIndex-1]))\r\n    let array = [];\r\n    moveItem.startTime = position == 'left' ? endItem.startTime : endItem.endTime;\r\n    moveItem.endTime = getEndtime(moveItem.startTime,moveItem.duration/1000)\r\n    array.push(moveItem)\r\n    const allArr = secondArr.concat(endArr)\r\n    allArr.forEach((item,index) => {\r\n      item.startTime = array[array.length-1].endTime;\r\n      item.endTime = getEndtime(item.startTime,item.duration/1000)\r\n      array.push(item)\r\n    })\r\n    const jsonData = {\r\n      newArr: frontArr.concat(array),\r\n      startTime: moveItem.startTime,\r\n      endTime: moveItem.endTime,\r\n    }\r\n    return jsonData\r\n  } else {/*往右*/\r\n    /*start,end*/\r\n    const frontArr = arr.slice(0,start);\r\n    const secondArr = position == 'left' ? arr.slice(start+1,end) : arr.slice(start+1,end + 1);\r\n    const endArr =  position == 'left' ? arr.slice(end) : arr.slice(end+1);\r\n    let moveItem = JSON.parse(JSON.stringify(arr[start]));\r\n    let endItem =  JSON.parse(JSON.stringify(arr[end]));\r\n    let array = [];\r\n    moveItem.startTime = position == 'left' ? endItem.startTime : endItem.endTime;\r\n    moveItem.endTime = getEndtime(moveItem.startTime,moveItem.duration/1000)\r\n    array.push(moveItem)\r\n    endArr.forEach((item,index) => {\r\n      item.startTime = array[array.length-1].endTime;\r\n      item.endTime = getEndtime(item.startTime,item.duration/1000)\r\n      array.push(item)\r\n    })\r\n    const jsonData = {\r\n      newArr: frontArr.concat(secondArr).concat(array),\r\n      startTime: moveItem.startTime,\r\n      endTime: moveItem.endTime,\r\n    }\r\n    return jsonData\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n * 获得结束时间\r\n */\r\n\r\nexport const getEndtimes =(startTime, durtion) =>{\r\n  let stime = startTime;\r\n  if (new Date(startTime).getTime() === getTimeSecond(startTime,2)) {\r\n    stime = getTimeSecond(startTime,3)\r\n  }\r\n  if (new Date(startTime).getTime() === getTimeSecond(startTime,4)) {\r\n    stime = getTimeSecond(startTime,5)\r\n  }\r\n  const start = new Date(stime).getTime();/*起始毫秒数*/\r\n  const secondDuration = durtion * 60 * 1000;/*时长的毫秒数*/\r\n  const secondFour = 4 * 60 * 60 * 1000;/*4个小时的毫秒数*/\r\n  const numFour = Math.floor(secondDuration/secondFour);/*有多少的（4个小时的毫秒数）*/\r\n  const secondResidue = secondDuration%secondFour;/*取余数（4个小时的毫秒数） */\r\n  let type;\r\n  if (start >= getTimeSecond(start,1) && start <= getTimeSecond(start,2)) {/*上午*/\r\n    type = 1;\r\n  } else {/*下午*/\r\n    type = 2;\r\n  }\r\n  if (numFour > 0) {/*大于4个小时*/\r\n    const x1 = Math.floor(numFour/2);//取整数\r\n    const x2 = numFour%2;//取余数\r\n    let stTime;\r\n    let a;\r\n    if (type === 1) {/*上午*/\r\n      if (x2 === 1) {\r\n        a = new Date(start).add('d',x1).getTime();\r\n        stTime = getTimeSecond(a,3) + start - getTimeSecond(start,1);\r\n        return getAfternoon(stTime,secondResidue);\r\n      } else {\r\n        stTime = new Date(start).add('d',x1).getTime();\r\n        return getMorning(stTime,secondResidue);\r\n      }\r\n    } else {/*下午*/\r\n      if (x2 === 1) {\r\n        a = new Date(start).add('d',x1).getTime();\r\n        stTime = getTimeSecond(a,5) + start - getTimeSecond(start,3);\r\n        return getMorning(stTime,secondResidue);\r\n      } else {\r\n        stTime = new Date(start).add('d',x1).getTime();\r\n        return getAfternoon(stTime,secondResidue);\r\n      }\r\n    }\r\n  } else {\r\n    if (type === 1) {/*上午*/\r\n      return getMorning(start,secondResidue);\r\n    } else {/*下午*/\r\n      return getAfternoon(start,secondResidue);\r\n    }\r\n  }\r\n};\r\nexport const getMorning =(start, secondResidue) =>{\r\n  let time;\r\n  if ((start + secondResidue) > getTimeSecond(start,2)) {\r\n    time = getTimeSecond(start,3) + (secondResidue - (getTimeSecond(start,2) - start))\r\n    // console.log(checkTime(time),'上午大于4小时 numFour = 0')\r\n    return checkTime(time)\r\n  } else {\r\n    time = start + secondResidue\r\n    //console.log(checkTime(time),'上午不足4小时 numFour = 0')\r\n    return checkTime(time)\r\n  }\r\n}\r\nexport const getAfternoon =(start, secondResidue) =>{\r\n  let time;\r\n  if ((start + secondResidue) > getTimeSecond(start,4)) {\r\n    time = getTimeSecond(start,5) + (secondResidue - (getTimeSecond(start,4) - start))\r\n    //console.log(checkTime(time),'下午大于4小时 numFour = 0')\r\n    return checkTime(time)\r\n  } else {\r\n    time = start + secondResidue\r\n    //console.log(checkTime(time),'下午不足4小时 numFour = 0')\r\n    return checkTime(time)\r\n  }\r\n}\r\nexport const checkTime =(time) =>{\r\n  const a = new Date(time).format('yyyy.MM.dd');\r\n  if (new Date(time).getTime() === getTimeSecond(time,1)) {\r\n    return new Date(getTimeSecond(new Date(a).add('d','-1').getTime(),4)).format('yyyy.MM.dd hh:mm:ss')\r\n  } else if (new Date(time).getTime() === getTimeSecond(time,3)) {\r\n    return new Date(getTimeSecond(time,2)).format('yyyy.MM.dd hh:mm:ss')\r\n  } else {\r\n    return new Date(time).format('yyyy.MM.dd hh:mm:ss')\r\n  }\r\n}\r\nexport const getTimeSecond =(time,type) =>{\r\n  const temp = new Date(time).format('yyyy.MM.dd');\r\n  const nextTemp = new Date(time).add('d',1).format('yyyy.MM.dd');\r\n  const beforeTemp = new Date(time).add('d',-1).format('yyyy.MM.dd');\r\n  switch (type) {\r\n    case 1:\r\n      return new Date(temp + ' 08:00:00').getTime();\r\n    case 2:\r\n      return new Date(temp + ' 12:00:00').getTime();\r\n    case 3:\r\n      return new Date(temp + ' 12:30:00').getTime();\r\n    case 4:\r\n      return new Date(temp + ' 16:30:00').getTime();\r\n    case 5:\r\n      return new Date(nextTemp + ' 08:00:00').getTime();\r\n    case 6:\r\n      return new Date(nextTemp + ' 12:00:00').getTime();\r\n    case 7:\r\n      return new Date(nextTemp + ' 12:30:00').getTime();\r\n    case 8:\r\n      return new Date(nextTemp + ' 16:30:00').getTime();\r\n    case 9:\r\n      return new Date(beforeTemp + ' 16:30:00').getTime();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/mUtils.js"],"sourceRoot":""}